<!DOCTYPE chapter>
<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="langref-functions"
    xml:lang="ru">
    <info>
        <title>Встроенные скалярные функции</title>
    </info>

    <section xml:id="langref-functions-func-context">
        <info>
            <title>Функции для работы с контекстными переменными</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-context-getcontext">
            <info>
                <title>RDB$GET_CONTEXT</title>
                <keywordset>
                    <keyword>RDB$GET_CONTEXT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$GET_CONTEXT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$GET_CONTEXT('<replaceable>&lt;namespace&gt;</replaceable>', '<replaceable>varname</replaceable>')   
                            
<replaceable>&lt;namespace&gt;</replaceable> ::= SYSTEM | DDL_TRIGGER | USER_SESSION | USER_TRANSACTION                            
                </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RDB$GET_CONTEXT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>namespace</replaceable></entry>
                                <entry>
                                    <para>Пространство имён.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>varname</replaceable></entry>
                                <entry>
                                    <para>Имя переменной. Зависит от регистра. Максимальная длина 80
                                        байт.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(32765) CHARACTER SET NONE</para>
            </formalpara>

            <para>Функция RDB$GET_CONTEXT возвращает значение контекстной переменной из одного из
                пространства имён.</para>
            <para>В настоящий момент существуют следующие пространства имён: <itemizedlist
                    spacing="compact">
                    <listitem>
                        <para>SYSTEM — предоставляет доступ к системным контекстным переменным. Эти
                            переменные доступны только для чтения;</para>
                    </listitem>
                    <listitem>
                        <para>USER_SESSION — предоставляет доступ к пользовательским контекстным
                            переменным, заданным через функцию RDB$SET_CONTEXT. Переменные
                            существуют в течение подключения;</para>
                    </listitem>
                    <listitem>
                        <para>USER_TRANSACTION — предоставляет доступ к пользовательским контекстным
                            переменным, заданным через функцию RDB$SET_CONTEXT. Переменные
                            существуют в течение транзакции;</para>
                    </listitem>
                    <listitem>
                        <para>DDL_TRIGGER — предоставляет доступ к системным контекстным переменным,
                            доступным только во время выполнения DDL триггера. Эти переменные
                            доступны только для чтения.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>Пространства имён USER_SESSION и USER_TRANSACTION — изначально пусты и
                пользователь сам создаёт переменные и наполняет их при помощи функции
                RDB$SET_CONTEXT.</para>
            <note>
                <para>Для предотвращения DoS атак, существует ограничение на 1000 переменных в одном
                    &quot;пространстве имён&quot;.</para>
            </note>
            <para>Если запрашиваемая функцией переменная существует в указанном пространстве имён,
                то будет возвращено её значение в виде строки VARCHAR(32765) CHARACTER SET NONE. При
                обращении к несуществующей переменной в пространстве SYSTEM возникает ошибка, если
                такое происходит с пространствами имён USER_SESSION или USER_TRANSACTION – функция
                возвращает NULL.</para>
            <para>Использование пространства имён DDL_TRIGGER допустимо, только во время работы DDL
                триггера. Его использование также допустимо в хранимых процедурах и функциях,
                вызванных триггерами DDL.</para>
            <para>Контекст DDL_TRIGGER работает как стек. Перед возбуждением DDL триггера, значения,
                относящиеся к выполняемой команде, помещаются в этот стек. После завершения работы
                триггера значения выталкиваются. Таким образом. В случае каскадных DDL операторов,
                когда каждая пользовательская DDL команда возбуждает DDL триггер, и этот триггер
                запускает другие DDL команды, с помощью EXECUTE STATEMENT, значения переменных в
                пространстве имён DDL_TRIGGER будут соответствовать команде, которая вызвала
                последний DDL триггер в стеке вызовов.</para>
            <para>
                <table frame="all">
                    <title>Переменные пространства имён SYSTEM</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.3*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.0*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center"> Переменная </entry>
                                <entry align="center"> Описание </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>CLIENT_ADDRESS</entry>
                                <entry>Для TCPv4 – IP адрес, для XNET – локальный ID процесса. Для
                                    остальных случаев NULL.</entry>
                            </row>
                            <row>
                                <entry>CLIENT_HOST</entry>
                                <entry>Имя хоста сетевого протокола удаленного клиента. Значение
                                    возвращается для всех поддерживаемых протоколов.</entry>
                            </row>
                            <row>
                                <entry>CLIENT_PID</entry>
                                <entry>PID процесса на клиентском компьютере.</entry>
                            </row>
                            <row>
                                <entry>CLIENT_PROCESS</entry>
                                <entry>Полный путь к клиентскому приложению, подключившемуся к базе
                                    данных. Позволяет не использовать системную таблицу
                                    MON$ATTACHMENTS (поле MON$REMOTE_PROCESS).</entry>
                            </row>
                            <row>
                                <entry>CURRENT_ROLE</entry>
                                <entry>Глобальная переменная CURRENT_ROLE.</entry>
                            </row>
                            <row>
                                <entry>CURRENT_USER</entry>
                                <entry>Глобальная переменная CURRENT_USER.</entry>
                            </row>
                            <row>
                                <entry>DB_NAME</entry>
                                <entry>Каноническое имя текущей базы данных. Это либо имя псевдонима
                                    (если соединение с помощью имён файлов запрещено DatabaseAccess
                                    = NONE) или, в противном случае,полностью расширенное имя файла
                                    базы данных.</entry>
                            </row>
                            <row>
                                <entry>DB_FILE_ID</entry>
                                <entry>Уникальный идентификатор текущей базы данных на уровне
                                    файловой системы.</entry>
                            </row>
                            <row>
                                <entry>DB_GUID</entry>
                                <entry>GUID базы данных.</entry>
                            </row>
                            <row>
                                <entry>EFFECTIVE_USER</entry>
                                <entry>Эффективный пользователь в текущий момент. Указывает
                                    пользователя с привилегиями которого в текущий момент времени
                                    выполняется процедура, функция или триггер.</entry>
                            </row>
                            <row>
                                <entry>ENGINE_VERSION</entry>
                                <entry>Версия сервера Firebird. </entry>
                            </row>
                            <row>
                                <entry>EXT_CONN_POOL_SIZE</entry>
                                <entry>Размер пула внешних соединений.</entry>
                            </row>
                            <row>
                                <entry>EXT_CONN_POOL_LIFETIME</entry>
                                <entry>Время жизни неактивных соединений в пуле внешних
                                    соединений.</entry>
                            </row>
                            <row>
                                <entry>EXT_CONN_POOL_IDLE_COUNT</entry>
                                <entry>Текущее количество неактивных соединений в пуле внешних
                                    соединений.</entry>
                            </row>
                            <row>
                                <entry>EXT_CONN_POOL_ACTIVE_COUNT</entry>
                                <entry>Текущее количество активных соединений в пуле внешних
                                    соединений.</entry>
                            </row>
                            <row>
                                <entry>GLOBAL_CN</entry>
                                <entry>Последнее значение текущего глобального счётчика Commit
                                    Number</entry>
                            </row>
                            <row>
                                <entry>ISOLATION_LEVEL</entry>
                                <entry>Уровень изоляции текущей транзакции — CURRENT_TRANSACTION.
                                    Значения: &quot;READ_COMMITED&quot;, &quot;SNAPSHOT&quot; или
                                    &quot;CONSISTENCY&quot;. </entry>
                            </row>
                            <row>
                                <entry>LOCK_TIMEOUT</entry>
                                <entry> Время ожидания транзакцией высвобождения ресурса при
                                    блокировке, в секундах.</entry>
                            </row>
                            <row>
                                <entry>NETWORK_PROTOCOL </entry>
                                <entry>Протокол, используемый для соединения с базой данных.
                                    Возможные значения: &quot;TCPv4&quot;, &quot;TCPv6&quot;,
                                    &quot;WNET&quot;, &quot;XNET&quot;,  NULL. </entry>
                            </row>
                            <row>
                                <entry>READ_ONLY</entry>
                                <entry>Отображает, является ли транзакция, транзакцией только для
                                    чтения. FALSE для R/W транзакций TRUE для ReadOnly. </entry>
                            </row>
                            <row>
                                <entry>REPLICA_MODE</entry>
                                <entry><para>Режим репликации: пустая строка или NULL — первичная
                                        база данных, "READ-ONLY" — реплика в режиме только чтение,
                                        "READ-WRITE" — реплика в режиме чтение и
                                    запись.</para></entry>
                            </row>
                            <row>
                                <entry>REPLICATION_SEQUENCE</entry>
                                <entry>Текущее значение последовательности репликации (номер
                                    последнего сегмента, записанного в журнал репликации).</entry>
                            </row>
                            <row>
                                <entry>SESSION_ID</entry>
                                <entry>Глобальная переменная CURRENT_CONNECTION.</entry>
                            </row>
                            <row>
                                <entry>SESSION_IDLE_TIMEOUT</entry>
                                <entry>Содержит текущее значение тайм-аут простоя соединения в
                                    секундах, который был установлен на уровне соединения, или ноль,
                                    если тайм-аут не был установлен. </entry>
                            </row>
                            <row>
                                <entry>SESSION_TIMEZONE</entry>
                                <entry>Текущий часовой пояс, установленный в текущей сессии.</entry>
                            </row>
                            <row>
                                <entry>SNAPSHOT_NUMBER</entry>
                                <entry>Номер моментального снимка базы данных: уровеня транзакции
                                    (для транзакции SNAPSHOT или CONSISTENCY) или уровня запроса
                                    (для транзакции READ COMMITTED READ CONSISTENCY). NULL, если
                                    моментальный снимок не существует.</entry>
                            </row>
                            <row>
                                <entry>STATEMENT_TIMEOUT</entry>
                                <entry>Содержит текущее значение тайм-аута выполнения оператора в
                                    миллисекундах, который был установлен на уровне подключения, или
                                    ноль, если тайм-аут не был установлен.</entry>
                            </row>
                            <row>
                                <entry>TRANSACTION_ID</entry>
                                <entry>Глобальная переменная CURRENT_TRANSACTION.</entry>
                            </row>
                            <row>
                                <entry>WIRE_COMPRESSED</entry>
                                <entry>Используется ли сжатие сетевого трафика. Если используется
                                    сжатие сетевого трафика возвращает "TRUE", если не используется
                                    — "FALSE". Для встроенных соединений — возвращает NULL.</entry>
                            </row>
                            <row>
                                <entry>WIRE_ENCRYPTED</entry>
                                <entry>Используется ли шифрование сетевого трафика. Если
                                    используется шифрование сетевого трафика возвращает "TRUE", если
                                    не используется — "FALSE". Для встроенных соединений —
                                    возвращает NULL.</entry>
                            </row>
                            <row>
                                <entry>WIRE_CRYPT_PLUGIN</entry>
                                <entry>Если используется шифрование сетевого трафика, то возвращает
                                    имя текущего плагина шифрования, в противном случае
                                    NULL.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <para>
                <table frame="all">
                    <title>Переменные пространства имён DDL_TRIGGER</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.0*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.0*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center"> Переменная </entry>
                                <entry align="center"> Описание </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>EVENT_TYPE </entry>
                                <entry>Тип события (CREATE, ALTER, DROP). </entry>
                            </row>
                            <row>
                                <entry>OBJECT_TYPE </entry>
                                <entry>Тип объекта (TABLE, VIEW и др.).</entry>
                            </row>
                            <row>
                                <entry>DDL_EVENT</entry>
                                <entry>Имя события. DDL_EVENT = EVENT_TYPE || ' ' ||
                                    OBJECT_TYPE</entry>
                            </row>
                            <row>
                                <entry>OBJECT_NAME</entry>
                                <entry>Имя объекта метаданных.</entry>
                            </row>
                            <row>
                                <entry>OLD_OBJECT_NAME</entry>
                                <entry>Имя объекта метаданных до переименования.</entry>
                            </row>
                            <row>
                                <entry>NEW_OBJECT_NAME</entry>
                                <entry>Имя объекта метаданных после переименования.</entry>
                            </row>
                            <row>
                                <entry>SQL_TEXT</entry>
                                <entry>Текст SQL запроса.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <note>
                <para>Ещё раз обратите внимание на то, что пространства имён и имена переменных
                    регистрочувствительны, должны быть не пустыми строками, и заключены в
                    кавычки!</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RDB$GET_CONTEXT</title>
                        <para><programlisting language="sql">
NEW.USER_ADR = RDB$GET_CONTEXT ('SYSTEM', 'CLIENT_ADDRESS');                  
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-context-setcontext"
                    >RDB$SET_CONTEXT</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-context-setcontext">
            <info>
                <title>RDB$SET_CONTEXT</title>
                <keywordset>
                    <keyword>RDB$SET_CONTEXT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$SET_CONTEXT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$SET_CONTEXT('<replaceable>&lt;namespace&gt;</replaceable>', '<replaceable>varname</replaceable>', {<replaceable>&lt;value&gt;</replaceable> | NULL})   
                            
<replaceable>&lt;namespace&gt;</replaceable> ::= USER_SESSION | USER_TRANSACTION                            
                </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RDB$SET_CONTEXT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>namespace</replaceable></entry>
                                <entry>
                                    <para>Пространство имён.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>varname</replaceable></entry>
                                <entry>
                                    <para>Имя переменной. Зависит от регистра. Максимальная длина 80
                                        байт.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Данные любого типа при условии, что их можно привести к
                                        типу VARCHAR(32765) CHARACTER SET NONE.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER</para>
            </formalpara>

            <para>Функция RDB$SET_CONTEXT создаёт, устанавливает значение или обнуляет переменную в
                одном из используемых пользователем пространстве имён: USER_SESSION или
                USER_TRANSACTION. </para>
            <para>Функция возвращает 1, если переменная уже существовала до вызова и 0, если не
                существовала. Для удаления переменной надо установить её значение в NULL. Если
                данное пространство имён не существует, то функция вернёт ошибку. Пространство имён
                и имя переменной зависят от регистра, должны быть не пустыми строками, и заключены в
                кавычки.</para>
            <note>
                <para>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Пространство имён SYSTEM доступно только для чтения;</para>
                        </listitem>
                        <listitem>
                            <para>Максимальное число переменных в рамках одного соединения (для
                                пространства USER_SESSION) или одной транзакции (для пространства
                                USER_TRANSACTION) равно 1000;</para>
                        </listitem>
                        <listitem>
                            <para>Все переменные в пространстве имён USER_TRANSACTION сохраняются
                                при ROLLBACK RETAIN или ROLLBACK TO SAVEPOINT, независимо от того, в
                                какой точке во время выполнения транзакции они были
                                установлены.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RDB$SET_CONTEXT</title>
                        <para><programlisting language="sql">
SELECT RDB$SET_CONTEXT ('USER_SESSION', 'DEBUGL', 3)	
FROM RDB$DATABASE;

-- в PSQL доступен такой синтаксис
RDB$SET_CONTEXT('USER_SESSION', 'RECORDSFOUND', RECCOUNTER);

SELECT RDB$SET_CONTEXT ('USER_TRANSACTION', 'SAVEPOINTS', 'YES')
FROM RDB$DATABASE;               
                </programlisting></para>
                    </example>
                    <example>
                        <title>Использование функций для работы с контекстными переменными</title>
                        <para><programlisting language="sql">
SET TERM ^;
CREATE PROCEDURE set_context(User_ID VARCHAR(40), 
                             Trn_ID INT) AS
BEGIN
  RDB$SET_CONTEXT('USER_TRANSACTION', 'Trn_ID', Trn_ID);
  RDB$SET_CONTEXT('USER_TRANSACTION', 'User_ID', User_ID);
END^
SET TERM ;^

CREATE TABLE journal (
   jrn_id INTEGER NOT NULL PRIMARY KEY,
   jrn_lastuser VARCHAR(40),
   jrn_lastaddr VARCHAR(255),
   jrn_lasttran INTEGER
);

SET TERM ^;
CREATE TRIGGER UI_JOURNAL 
FOR JOURNAL BEFORE INSERT OR UPDATE
AS 
BEGIN
  new.jrn_lastuser = RDB$GET_CONTEXT('USER_TRANSACTION',
                                     'User_ID');
  new.jrn_lastaddr = RDB$GET_CONTEXT('SYSTEM',
                                     'CLIENT_ADDRESS');
  new.jrn_lasttran = RDB$GET_CONTEXT('USER_TRANSACTION',
                                         'Trn_ID');
END^
SET TERM ;^

EXECUTE PROCEDURE set_context('skidder', 1);

INSERT INTO journal(jrn_id) VALUES(0);

COMMIT;              
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-context-getcontext"
                    >RDB$GET_CONTEXT</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-security">
        <info>
            <title>Функции подсистемы безопасности</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-security-roleinuse">
            <info>
                <title>RDB$ROLE_IN_USE</title>
                <keywordset>
                    <keyword>RDB$ROLE_IN_USE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$ROLE_IN_USE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$ROLE_IN_USE (<replaceable>role_name</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RDB$ROLE_IN_USE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>role_name</replaceable></entry>
                                <entry>
                                    <para>Имя роли использование которой проверяется</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BOOLEAN.</para>
            </formalpara>

            <para>Функция RDB$ROLE_IN_USE возвращает используется ли роль текущим
                пользователем.</para>

            <note>
                <para>Данная функция позволяет проверить использование любой роли: указанной явно
                    (при входе в систему или изменённой с помощью оператора SET ROLE) и назначенной
                    неявно (роли назначенные пользователю с использованием предложения
                    DEFAULT).</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RDB$ROLE_IN_USE</title>
                        <para><programlisting language="sql">
-- Проверяем используется ли явно назначенная или 
-- неявно полученная роль MANAGER                                
IF (RDB$ROLE_IN_USE('MANAGER')) THEN
BEGIN
  ...
END
                </programlisting></para>
                    </example>
                    <example>
                        <title>Список ролей используемых текущим подключением</title>
                        <para><programlisting language="sql">
SELECT * FROM RDB$ROLES WHERE RDB$ROLE_IN_USE(RDB$ROLE_NAME)
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-security-priv-grant-role">GRANT ROLE</link>, <link
                        linkend="langref-session-role-setrole">SET ROLE</link>, <link
                        linkend="langref-contextvars-current_role">CURRENT_ROLE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-security-sysprivelege">
            <info>
                <title>RDB$SYSTEM_PRIVILEGE</title>
                <keywordset>
                    <keyword>RDB$SYSTEM_PRIVILEGE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$SYSTEM_PRIVILEGE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$SYSTEM_PRIVILEGE (<replaceable>privilege</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RDB$SYSTEM_PRIVILEGE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>privilege</replaceable></entry>
                                <entry>
                                    <para>Проверяемая системная привилегия</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BOOLEAN.</para>
            </formalpara>
            <para>Функция RDB$SYSTEM_PRIVILEGE используется системная привилегия текущим
                соединением. Список системных привилегий см. в <link
                    linkend="langref-security-roles-create">CREATE ROLE</link>.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RDB$SYSTEM_PRIVILEGE</title>
                        <para><programlisting language="sql">
SELECT RDB$SYSTEM_PRIVILEGE(USER_MANAGEMENT) FROM RDB$DATABASE;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-security-roles-create">CREATE ROLE</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-error">
        <info>
            <title>Функции для обработки ошибок</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-error-rdberror">
            <info>
                <title>RDB$ERROR</title>
                <keywordset>
                    <keyword>RDB$ERROR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$ERROR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$ERROR (<replaceable>&lt;context&gt;</replaceable>)   
                            
<replaceable>&lt;context&gt;</replaceable> ::= { GDSCODE | SQLCODE | SQLSTATE | EXCEPTION | MESSAGE }                            
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>Зависит от контекста</para>
            </formalpara>
            <para>Возвращает значение контекста активного исключения. Тип возвращаемого значения
                зависит от контекста.</para>
            <note>
                <para>Функция RDB$ERROR всегда возвращает NULL вне блока обработки ошибок "WHEN ...
                    DO".</para>
            </note>
            <para>Если задан контекст EXCEPTION то функция возвращает имя исключения, если активно
                исключение определённое пользователем, и NULL если активно одно из системных
                исключений. Для контекста EXCEPTION тип возвращаемого значения: VARCHAR(63)
                CHARACTER SET UTF8.</para>
            <para>Если задан контекст MESSAGE то функция возвращает интерпретированный текст
                активного исключения. Для контекста MESSAGE тип возвращаемого значения:
                VARCHAR(1024) CHARACTER SET UTF8.</para>
            <para>Если заданы контексты GDSCODE, SQLCODE или SQLSTATE то функция возвращает значение
                соответствующей контекстной переменной.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RDB$ERROR для сохранения текста ошибки в
                            журнал</title>
                        <para><programlisting language="sql">
...
BEGIN
...
WHEN ANY DO
  EXECUTE PROCEDURE P_LOG_EXCEPTION(RDB$ERROR(MESSAGE));
END
...
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-psql-statements-when">WHEN ... DO</link>, <link
                        linkend="langref-psql-statements-exception">EXCEPTION</link>, <link
                        linkend="langref-contextvars-gdscode">GDSCODE</link>, <link
                        linkend="langref-contextvars-sqlcode">SQLCODE</link>, <link
                        linkend="langref-contextvars-sqlstate">SQLSTATE</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-transaction">
        <info>
            <title>Функции работы с транзакциями</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-transaction-cn">
            <info>
                <title>RDB$GET_TRANSACTION_CN</title>
                <keywordset>
                    <keyword>RDB$GET_TRANSACTION_CN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RDB$GET_TRANSACTION_CN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RDB$GET_TRANSACTION_CN (<replaceable>transaction number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RDB$GET_TRANSACTION_CN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>transaction number</replaceable></entry>
                                <entry>
                                    <para>Номер (идентификатор) транзакции</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Возвращает номер подтверждения (Commit Number) для заданной транзакции.</para>

            <note>
                <para>Внутренние механизмы Firebird используют беззнаковое 8-байтное целое для
                    Commit Number и беззнаковое 6-байтное целое для номера транзакции. Поэтому, не
                    смотря на то, что язык SQL не имеет беззнаковых целых, а
                        <code>RDB$GET_TRANSACTION_CN</code> возвращает знаковый BIGINT, не возможно
                    увидеть отрицательный номер подтверждения, за исключением нескольких специальных
                    значений, используемых для неподтверждённых транзакций.</para>
            </note>

            <para>Таким образом, числа возвращаемые <code>RDB$GET_TRANSACTION_CN</code> могут иметь
                следующие значения: <itemizedlist spacing="compact">
                    <listitem>
                        <para>-2 — мёртвые транзакции (отмененные);</para>
                    </listitem>
                    <listitem>
                        <para>-1 — зависшие транзакции (в состоянии limbo 2PC транзакций);</para>
                    </listitem>
                    <listitem>
                        <para>0 — активные транзакции;</para>
                    </listitem>
                    <listitem>
                        <para>1 — для транзакций подверждённых до старта базы данных или с номером
                            меньше чем OIT (Oldest Interesting Transaction);</para>
                    </listitem>
                    <listitem>
                        <para>&gt;1 — транзакции подтверждённые после старта базы данных;</para>
                    </listitem>
                    <listitem>
                        <para>NULL — если номер транзакции равен NULL или больше чем Next
                            Transaction.</para>
                    </listitem>
                </itemizedlist></para>

            <example>
                <title>Использование RDB$GET_TRANSACTION_CN</title>

                <para>
                    <programlisting language="sql">
select rdb$get_transaction_cn(current_transaction) from rdb$database;

select rdb$get_transaction_cn(123) from rdb$database;                        
                        </programlisting>
                </para>
            </example>

            <formalpara>
                <title>См. также:</title>

                <para>README.read_consistency.md</para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-make_dbkey">
        <info>
            <title>MAKE_DBKEY</title>
            <keywordset>
                <keyword>MAKE_DBKEY</keyword>
            </keywordset>
        </info>
        <indexterm><primary>MAKE_DBKEY</primary></indexterm>
        <formalpara>
            <title>Доступно в:</title>

            <para>DSQL, PSQL.</para>
        </formalpara>
        <formalpara>
            <title>Синтаксис:</title>
            <para>
                <programlisting>
MAKE_DBKEY ({<replaceable>rel_name</replaceable> | <replaceable>rel_id</replaceable>}, <replaceable>recnum</replaceable> [, <replaceable>dpnum</replaceable> [, <replaceable>ppnum</replaceable>]]})                         
                        </programlisting>
            </para>
        </formalpara>

        <para>
            <table frame="all">
                <?dbfo keep-together='auto'?>
                <title>Параметры функции MAKE_DBKEY</title>
                <tgroup cols="2">
                    <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                    <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                    <thead>
                        <row>
                            <entry align="center">Параметр</entry>
                            <entry align="center">Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry><replaceable>rel_name</replaceable></entry>
                            <entry>
                                <para>Имя таблицы</para>
                            </entry>
                        </row>
                        <row>
                            <entry><replaceable>rel_id</replaceable></entry>
                            <entry>
                                <para>Идентификатор таблицы. Можно найти в
                                    RDB$RELATIONS.RDB$RELATION_ID</para>
                            </entry>
                        </row>
                        <row>
                            <entry><replaceable>recnum</replaceable></entry>
                            <entry>
                                <para>Номер записи</para>
                            </entry>
                        </row>
                        <row>
                            <entry><replaceable>dpnum</replaceable></entry>
                            <entry>
                                <para>Номер страницы данных DP</para>
                            </entry>
                        </row>
                        <row>
                            <entry><replaceable>ppnum</replaceable></entry>
                            <entry>
                                <para>Номер страницы указателей на данные PP</para>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </para>
        <para>Функция MAKE_DBKEY создает значение DBKEY, используя имя или идентификатор таблицы,
            номер записи и, необязательно, логический номер страницы данных и страницы
            указателя.</para>
        <note>
            <title>Замечания</title>
            <orderedlist>
                <listitem>
                    <para>Если первый аргумент (таблица) является строковым выражением или
                        литералом, то он обрабатывается как имя таблицы, и Firebird ищет
                        соответствующий идентификатор таблицы. Поиск чувствителен к регистру.</para>
                    <para>В случае строкового литерала идентификатор таблицы оценивается во время
                        подготовки. В случае выражения, идентификатор таблицы оценивается во время
                        выполнения.</para>
                    <para>Если таблица не может быть найдена, возникает ошибка
                            <literal>isc_relnotdef</literal>.</para>
                </listitem>
                <listitem>
                    <para>Если первый аргумент (таблица) является числовым выражением или литералом,
                        то он обрабатывается как идентификатор таблицы и используется «как есть»,
                        без проверки существования таблицы.</para>
                    <para>Если значение аргумента отрицательно или превышает максимально допустимый
                        идентификатор таблицы (в настоящее время 65535), то возвращается
                        NULL.</para>
                </listitem>
                <listitem>
                    <para>Второй аргумент (<replaceable>recnum</replaceable>) представляет собой
                        абсолютный номер записи в отношении (если следующие аргументы —
                            <replaceable>dpnum</replaceable> и <replaceable>ppnum</replaceable> —
                        отсутствуют) или номер записи относительно первой записи, указанной в
                        следующих аргументах.</para>
                </listitem>
                <listitem>
                    <para>Третий аргумент (<replaceable>dpnum</replaceable>) — это логический номер
                        страницы данных (DP) в таблице (если следующий аргумент —
                            <replaceable>ppnum</replaceable> — отсутствует) или номер страницы
                        данных относительно первой страницы данных, адресованной заданным
                            <replaceable>ppnum</replaceable>.</para>
                </listitem>
                <listitem>
                    <para>Четвёртый аргумент (<replaceable>ppnum</replaceable>) — это логический
                        номер страницы указателя (PP) в таблице.</para>
                </listitem>
                <listitem>
                    <para>Все числа начинаются с нуля. Максимально допустимое значение для
                            <replaceable>dpnum</replaceable> и <replaceable>ppnum</replaceable>
                        составляет 2<superscript>32</superscript> (4294967296).</para>
                    <para>Если указан параметр <replaceable>dpnum</replaceable>, значение
                            <replaceable>recnum</replaceable> может быть отрицательным.</para>
                    <para>Если <replaceable>dpnum</replaceable> отсутствует и
                            <replaceable>recnum</replaceable> отрицательно, возвращается
                        NULL.</para>
                    <para>Если указан <replaceable>ppnum</replaceable>, то
                            <replaceable>dpnum</replaceable> может быть отрицательным.</para>
                    <para>Если <replaceable>ppnum</replaceable> отсутствует и
                            <replaceable>dpnum</replaceable> отрицателен, возвращается NULL.</para>
                </listitem>
                <listitem>
                    <para>Если какой-либо из указанных аргументов имеет значение NULL, результат
                        также равен NULL.</para>
                </listitem>
                <listitem>
                    <para>Первый аргумент (таблица) описывается как INTEGER, но может быть
                        переопределен приложением как VARCHAR или CHAR.</para>
                    <para><replaceable>recnum</replaceable>, <replaceable>dpnum</replaceable> и
                            <replaceable>ppnum</replaceable> описываются как BIGINT (64-разрядное
                        целое число со знаком).</para>
                </listitem>
            </orderedlist>
        </note>

        <para>Примеры: <orderedlist>
                <listitem>
                    <para>Запрос выбирает запись, используя имя таблицы (имя таблицы в верхнем
                        регистре)
                        <programlisting language="sql">
select * from rdb$relations where rdb$db_key = make_dbkey('RDB$RELATIONS', 0)                            
                        </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>Запрос выбирает запись, используя идентификатор таблицы
                        <programlisting language="sql">
select * from rdb$relations where rdb$db_key = make_dbkey(6, 0)                          
                        </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>Запрос выбирает все записи, которые физически находятся на первой странице
                        данных в таблице <programlisting language="sql">
<![CDATA[
select * from rdb$relations
where rdb$db_key >= make_dbkey(6, 0, 0)
  and rdb$db_key <  make_dbkey(6, 0, 1)  
]]>
                        </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>Запрос выбирает все записи, которые физически находятся на первой странице
                        данных 6-й страницы указателя в таблице <programlisting language="sql">
<![CDATA[
select * from SOMETABLE
where rdb$db_key >= make_dbkey('SOMETABLE', 0, 0, 5)
  and rdb$db_key <  make_dbkey('SOMETABLE', 0, 1, 5) 
]]>
                        </programlisting>
                    </para>
                </listitem>
            </orderedlist>
        </para>
    </section>
    <section xml:id="langref-functions-func-math">
        <info>
            <title>Математические функции</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-math-abs">
            <info>
                <title>ABS</title>
                <keywordset>
                    <keyword>ABS</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ABS</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ABS (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ABS</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и входной аргумент.</para>
            </formalpara>

            <para>Функция ABS возвращает абсолютное значение (модуль) аргумента. </para>
        </section>
        <section xml:id="langref-functions-func-math-acos">
            <info>
                <title>ACOS</title>
                <keywordset>
                    <keyword>ACOS</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ACOS</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ACOS (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ACOS</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа в диапазоне [-1; 1].</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ACOS возвращает арккосинус (в радианах) аргумента. </para>
            <para>В случае если аргумент функции вне границы диапазона [-1, 1], то функция вернёт
                неопределённое значения NaN.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-cos">COS</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-acosh">
            <info>
                <title>ACOSH</title>
                <keywordset>
                    <keyword>ACOSH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ACOSH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ACOSH (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ACOSH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа в диапазоне [1; +&#8734;].</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ACOSH возвращает гиперболический арккосинус (в радианах) аргумента. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-cosh">COSH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-asin">
            <info>
                <title>ASIN</title>
                <keywordset>
                    <keyword>ASIN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ASIN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ASIN (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ASIN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа в диапазоне [-1; 1].</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ASIN возвращает арксинус (в радианах) аргумента. </para>
            <para>В случае если аргумент функции вне границы диапазона [-1, 1], то функция вернёт
                неопределённое значения NaN.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-sin">SIN</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-asinh">
            <info>
                <title>ASINH</title>
                <keywordset>
                    <keyword>ASINH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ASINH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ASINH (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ASINH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ASINH возвращает гиперболический арксинус (в радианах) аргумента. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-sinh">ASINH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-atan">
            <info>
                <title>ATAN</title>
                <keywordset>
                    <keyword>ATAN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ATAN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ATAN (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ATAN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ATAN возвращает арктангенс аргумента. </para>
            <para>Функция возвращает угол в радианах в диапазоне [-&#960;/2; &#960;/2].</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-atan2">ATAN2</link>, <link
                        linkend="langref-functions-func-math-tan">TAN</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-atan2">
            <info>
                <title>ATAN2</title>
                <keywordset>
                    <keyword>ATAN2</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ATAN2</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ATAN2 (<replaceable>y</replaceable>, <replaceable>x</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ATAN2</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>x</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>y</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ATAN2 возвращает угол как отношение синуса к косинусу, аргументы, у
                которых задаются этими двумя параметрами, а знаки синуса и косинуса соответствуют
                знакам параметров. Это позволяет получать результаты по всей окружности, включая
                углы -&#960;/2 и &#960;/2. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Результат — угол в диапазоне [-&#960;, &#960;] радиан;</para>
                    </listitem>
                    <listitem>
                        <para>Если <replaceable>х</replaceable> отрицательный, то при нулевом
                            значении y результат равен &#960;, а при значении 0 равен
                            -&#960;;</para>
                    </listitem>
                    <listitem>
                        <para>Если и y и x равны 0, то результат бессмыслен.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <note>
                <para>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Полностью эквивалентное описание этой функции следующее: ATAN2 (y,
                                x) является углом между положительной осью X и линией от начала
                                координат до точки (x, y). Это также делает очевидным, что значение
                                ATAN2 (0, 0) не определено;</para>
                        </listitem>
                        <listitem>
                            <para>Если <replaceable>x</replaceable> больше, чем 0, ATAN2 (y, x)
                                совпадает с ATAN (y/x);</para>
                        </listitem>
                        <listitem>
                            <para>Если известны и синус, и косинус угла, то ATAN2 (SIN, COS)
                                возвращает угол.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-atan">ATAN</link>, <link
                        linkend="langref-functions-func-math-sin">SIN</link>, <link
                        linkend="langref-functions-func-math-cos">COS</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-atanh">
            <info>
                <title>ATANH</title>
                <keywordset>
                    <keyword>ATANH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ATANH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ATANH (<replaceable>value</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ATANH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция ATANH возвращает гиперболический арктангенс (в радианах) аргумента. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-tanh">TANH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-ceil">
            <info>
                <title>CEIL, CEILING</title>
                <keywordset>
                    <keyword>CEIL</keyword>
                    <keyword>CEILING</keyword>
                </keywordset>
            </info>
            <indexterm><primary>CEIL</primary></indexterm>
            <indexterm><primary>CEILING</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
CEIL[ING] (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции CEIL[ING]</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT, INT128, DECFLOAT или DOUBLE PRECISION в зависимости от типа
                    аргумента.</para>
            </formalpara>

            <para>Функция CEIL возвращает наименьшее целое число, большее или равное
                аргументу.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-floor">FLOOR</link>, <link
                        linkend="langref-functions-func-math-trunc">TRUNC</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-cos">
            <info>
                <title>COS</title>
                <keywordset>
                    <keyword>COS</keyword>
                </keywordset>
            </info>
            <indexterm><primary>COS</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
COS (<replaceable>angle</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции COS</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>angle</replaceable></entry>
                                <entry>
                                    <para>Угол, выраженный в радианах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция COS возвращает косинус угла. Аргумент должен быть задан в радианах.</para>
            <para>Любой NOT NULL результат находится в диапазоне [-1, 1].</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-acos">ACOS</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-cosh">
            <info>
                <title>COSH</title>
                <keywordset>
                    <keyword>COSH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>COSH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
COSH (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции COSH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция COSH возвращает гиперболический косинус аргумента.</para>
            <para>Любой NOT NULL результат находится в диапазоне [1, +&#8734;].</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-acosh">ACOSH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-cot">
            <info>
                <title>COT</title>
                <keywordset>
                    <keyword>COT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>COT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
COT (<replaceable>angle</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции COT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>angle</replaceable></entry>
                                <entry>
                                    <para>Угол, выраженный в радианах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция COT возвращает котангенс угла. Аргумент должен быть задан в
                радианах.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-tan">TAN</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-exp">
            <info>
                <title>EXP</title>
                <keywordset>
                    <keyword>EXP</keyword>
                </keywordset>
            </info>
            <indexterm><primary>EXP</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
EXP (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции EXP</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция EXP возвращает значение натуральной экспоненты, <inlineequation>
                    <mml:math xmlns:mml="http://www.w3.org/1998/Math/MathML">
                        <mml:mrow>
                            <mml:msup>
                                <mml:mi>e</mml:mi>
                                <mml:mn>number</mml:mn>
                            </mml:msup>
                        </mml:mrow>
                    </mml:math>
                </inlineequation>.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-ln">LN</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-floor">
            <info>
                <title>FLOOR</title>
                <keywordset>
                    <keyword>FLOOR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>FLOOR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
FLOOR (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции FLOOR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT, INT128, DECFLOAT или DOUBLE PRECISION в зависимости от типа
                    аргумента.</para>
            </formalpara>

            <para>Функция FLOOR возвращает целое число, меньшее или равное аргументу.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-ceil">CEIL, CEILING</link>, <link
                        linkend="langref-functions-func-math-trunc">TRUNC</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-ln">
            <info>
                <title>LN</title>
                <keywordset>
                    <keyword>LN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LN (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция LN возвращает натуральный логарифм аргумента.</para>
            <note>
                <para>В случае если передан отрицательный или нулевой аргумент функция вернёт
                    ошибку. </para>
            </note>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-exp">EXP</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-log">
            <info>
                <title>LOG</title>
                <keywordset>
                    <keyword>LOG</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LOG</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LOG (<replaceable>x</replaceable>, <replaceable>y</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LOG</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>x</replaceable></entry>
                                <entry>
                                    <para>Основание. Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>y</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция LOG возвращает логарифм <replaceable>y</replaceable> (второй аргумент) по
                основанию <replaceable>x</replaceable> (первый аргумент).</para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Если один из аргументов меньше или равен 0, то возникает
                            ошибка;</para>
                    </listitem>
                    <listitem>
                        <para>Если оба аргумента равны 1, то результатом функции будет NaN
                            (Not-a-Number — не число);</para>
                    </listitem>
                    <listitem>
                        <para>Если <replaceable>x</replaceable> = 1 и <replaceable>y</replaceable>
                            &lt; 1, то результатом функции будет -INF (-&#8734;);</para>
                    </listitem>
                    <listitem>
                        <para>Если <replaceable>x</replaceable> = 1 и <replaceable>y</replaceable>
                            &gt; 1, то результатом функции будет +INF (+&#8734;).</para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <section xml:id="langref-functions-func-math-log10">
            <info>
                <title>LOG10</title>
                <keywordset>
                    <keyword>LOG10</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LOG10</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LOG10 (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LOG10</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция LOG10 возвращает десятичный логарифм аргумента.</para>
            <note>
                <para>Если входной аргумент отрицательный или равен 0, возникает ошибка. </para>
            </note>
        </section>
        <section xml:id="langref-functions-func-math-mod">
            <info>
                <title>MOD</title>
                <keywordset>
                    <keyword>MOD</keyword>
                </keywordset>
            </info>
            <indexterm><primary>MOD</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
MOD (<replaceable>a</replaceable>, <replaceable>b</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции MOD</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>a</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>b</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER, BIGINT или INT128 в зависимости от типов аргументов.</para>
            </formalpara>

            <para>Функция MOD возвращает остаток от целочисленного деления. </para>
            <note>
                <para>Вещественные числа округляются до выполнения деления. Например, результатом
                    7.5 mod 2.5 будет 2 (8 mod 3), а не 0.</para>
            </note>
        </section>
        <section xml:id="langref-functions-func-math-pi">
            <info>
                <title>PI</title>
                <keywordset>
                    <keyword>PI</keyword>
                </keywordset>
            </info>
            <indexterm><primary>PI</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
PI ()                         
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция PI возвращает число &#960;. </para>
        </section>
        <section xml:id="langref-functions-func-math-power">
            <info>
                <title>POWER</title>
                <keywordset>
                    <keyword>POWER</keyword>
                </keywordset>
            </info>
            <indexterm><primary>POWER</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
POWER (<replaceable>x</replaceable>, <replaceable>y</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции POWER</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>x</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>y</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция POWER возвращает результат возведения числа <replaceable>x</replaceable> в
                степень <replaceable>y</replaceable>.</para>
            <note>
                <para>Если <replaceable>x</replaceable> меньше нуля, возникает ошибка.</para>
            </note>
        </section>
        <section xml:id="langref-functions-func-math-rand">
            <info>
                <title>RAND</title>
                <keywordset>
                    <keyword>RAND</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RAND</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RAND ()                         
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция RAND возвращает псевдослучайное число в интервале от 0 до 1. </para>
        </section>
        <section xml:id="langref-functions-func-math-round">
            <info>
                <title>ROUND</title>
                <keywordset>
                    <keyword>ROUND</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ROUND</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ROUND (<replaceable>number</replaceable> [, <replaceable>scale</replaceable>])                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ROUND</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>scale</replaceable></entry>
                                <entry>
                                    <para>Масштаб — целое число, определяющее число десятичных
                                        разрядов, к которым должен быть проведено округление, т.е.
                                        <screen>
2 для округления к самому близкому кратному 0.01 числу
1 для округления к самому близкому кратному 0.1 числу
0 для округления к самому близкому целому числу
-1 для округления к самому близкому кратному 10 числу
-2 для округления к самому близкому кратному 100 числу
                                        </screen>
                                        По умолчанию 0. </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>масштабируемое целое (INTEGER, BIGINT или INT128) или DECFLOAT, или DOUBLE
                    PRECISION в зависимости от типа <replaceable>number</replaceable>.</para>
            </formalpara>

            <para>Функция ROUND округляет число до ближайшего целого числа. Если дробная часть равна
                0.5, то округление до ближайшего большего целого числа для положительных чисел и до
                ближайшего меньшего для отрицательных чисел. С дополнительным опциональным
                параметром <replaceable>scale</replaceable> число может быть округлено до одной из
                степеней числа 10 (десятки, сотни, десятые части, сотые части и т.д.) вместо просто
                целого числа. </para>
            <note>
                <para>Если используется параметр <replaceable>scale</replaceable>, то результат
                    имеет такой же масштаб, как и первый параметр <replaceable>number</replaceable>.
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции ROUND</title>
                        <para><programlisting language="sql">
ROUND(123.654, 1) -- Результат: 123.700 (а не 123.7)
ROUND(8341.7, -3) -- Результат: 8000.0 (а не 8000)
ROUND(45.1212, 0) -- Результат: 45.0000 (а не 45)
ROUND(45.1212)    -- Результат: 45           
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-trunc">TRUNC</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-sign">
            <info>
                <title>SIGN</title>
                <keywordset>
                    <keyword>SIGN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>SIGN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
SIGN (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции SIGN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>SMALLINT.</para>
            </formalpara>

            <para>Функция SIGN возвращает знак входного параметра. </para>
            <para>
                <table frame="all">
                    <title>Таблица результатов функции SIGN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.0*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.0*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center"> Результат </entry>
                                <entry align="center"> Значение </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry> -1 </entry>
                                <entry> число меньше нуля </entry>
                            </row>
                            <row>
                                <entry> 0 </entry>
                                <entry> число равно нулю </entry>
                            </row>
                            <row>
                                <entry> 1 </entry>
                                <entry> число больше нуля </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
        </section>
        <section xml:id="langref-functions-func-math-sin">
            <info>
                <title>SIN</title>
                <keywordset>
                    <keyword>SIN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>SIN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
SIN (<replaceable>angle</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции SIN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>angle</replaceable></entry>
                                <entry>
                                    <para>Угол, выраженный в радианах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция SIN возвращает синус угла. Аргумент должен быть задан в радианах.</para>
            <para>Любой NOT NULL результат находится в диапазоне [-1, 1].</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-asin">ASIN</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-sinh">
            <info>
                <title>SINH</title>
                <keywordset>
                    <keyword>SINH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>SINH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
SINH (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции SINH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция SINH возвращает гиперболический синус аргумента.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-asinh">ASINH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-sqrt">
            <info>
                <title>SQRT</title>
                <keywordset>
                    <keyword>SQRT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>SQRT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
SQRT (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции SQRT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция SQRT возвращает квадратный корень аргумента.</para>
        </section>
        <section xml:id="langref-functions-func-math-tan">
            <info>
                <title>TAN</title>
                <keywordset>
                    <keyword>TAN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>TAN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
TAN (<replaceable>angle</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции TAN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>angle</replaceable></entry>
                                <entry>
                                    <para>Угол, выраженный в радианах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция TAN возвращает тангенс угла. Аргумент должен быть задан в радианах.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-atan">ATAN</link>, <link
                        linkend="langref-functions-func-math-atan2">ATAN2</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-tanh">
            <info>
                <title>TANH</title>
                <keywordset>
                    <keyword>TANH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>TANH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
TANH (<replaceable>number</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции TANH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DOUBLE PRECISION.</para>
            </formalpara>

            <para>Функция TANH возвращает гиперболический тангенс аргумента.</para>
            <para>Любой NOT NULL результат находится в диапазоне [-1, 1].</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-atanh">ATANH</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-math-trunc">
            <info>
                <title>TRUNC</title>
                <keywordset>
                    <keyword>TRUNC</keyword>
                </keywordset>
            </info>
            <indexterm><primary>TRUNC</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
TRUNC (<replaceable>number</replaceable> [, <replaceable>scale</replaceable>])                         
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции TRUNC</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Выражение числового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>scale</replaceable></entry>
                                <entry>
                                    <para>Масштаб — целое число, определяющее число десятичных
                                        разрядов, к которым должен быть проведено усечение, т.е.
                                        <screen>
2 для усечения к самому близкому кратному 0.01 числу
1 для усечения к самому близкому кратному 0.1 числу
0 для усечения к самому близкому целому числу
-1 для усечения к самому близкому кратному 10 числу
-2 для усечения к самому близкому кратному 100 числу
                                        </screen>
                                        По умолчанию 0.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>масштабируемое целое (INTEGER, BIGINT или INT128) или DECFLOAT, или DOUBLE
                    PRECISION в зависимости от типа <replaceable>number</replaceable>.</para>
            </formalpara>

            <para>Функция TRUNC усекает число до ближайшего целого числа. С дополнительным
                опциональным параметром <replaceable>scale</replaceable> число может быть усечено до
                одной из степеней числа 10 (десятки, сотни, десятые части, сотые части и т.д.)
                вместо просто целого числа. </para>
            <note>
                <para>Если используется параметр <replaceable>scale</replaceable>, то результат
                    имеет такой же масштаб, как и первый параметр <replaceable>number</replaceable>.
                </para>
            </note>
            <important>
                <para>Функция всегда увеличивает отрицательные числа, поскольку она обрезает дробную
                    часть. </para>
            </important>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции TRUNC</title>
                        <para><programlisting language="sql">
TRUNC(789.2225, 2)  -- Результат: 789.2200 (а не 789.22)
TRUNC(345.4, -2) 	-- Результат: 300.0 (а не 300)
TRUNC(-163.41, 0)	-- Результат: -163.00 (а не -163)
TRUNC(-163.41)      -- Результат: -163        
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-math-round">ROUND</link>, <link
                        linkend="langref-functions-func-math-ceil">CEIL, CEILING</link>, <link
                        linkend="langref-functions-func-math-floor">FLOOR</link>. </para>
            </formalpara>
        </section>
    </section>

    <section xml:id="langref-functions-func-string">
        <info>
            <title>Функции для работы со строками</title>
        </info>

        <section xml:id="langref-functions-func-string-ascii_char">
            <info>
                <title>ASCII_CHAR</title>
                <keywordset>
                    <keyword>ASCII_CHAR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ASCII_CHAR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ASCII_CHAR (<replaceable>code</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ASCII_CHAR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>code</replaceable></entry>
                                <entry>
                                    <para>Целое число в диапазоне от 0 до 255.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>[VAR]CHAR(1) CHARSET NONE.</para>
            </formalpara>

            <para>Функция ASCII_CHAR возвращает ASCII символ соответствующий номеру, переданному в
                качестве аргумента.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-ascii_val">ASCII_VAL</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-ascii_val">
            <info>
                <title>ASCII_VAL</title>
                <keywordset>
                    <keyword>ASCII_VAL</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ASCII_VAL</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ASCII_VAL (<replaceable>ch</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ASCII_VAL</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>ch</replaceable></entry>
                                <entry>
                                    <para>Строка типа данных [VAR]CHAR или текстовый BLOB
                                        максимального размера 32767 байт.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>SMALLINT.</para>
            </formalpara>

            <para>Функция ASCII_VAL возвращает ASCII код символа, переданного в качестве
                аргумента.</para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Если строка содержит более одного символа, то возвращается код первого
                            символа строки;</para>
                    </listitem>
                    <listitem>
                        <para>Если строка пустая, возвращается ноль;</para>
                    </listitem>
                    <listitem>
                        <para>Если аргумент NULL, то возвращаемое значение также NULL.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-ascii_char">ASCII_CHAR</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-bit_length">
            <info>
                <title>BIT_LENGTH</title>
                <keywordset>
                    <keyword>BIT_LENGTH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIT_LENGTH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIT_LENGTH (<replaceable>str</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIT_LENGTH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция BIT_LENGTH возвращает длину входной строки в битах. Для многобайтных
                наборов символов результат может быть в 8 раз больше, чем количество символов в
                    <quote>формальном</quote> числе байт на символ, записанном в
                RDB$CHARACTER_SETS.</para>
            <para>С параметрами типа CHAR эта функция берет во внимание всю формальную строковую
                длину (например, объявленная длина поля или переменной). Если вы хотите получить
                    <quote>логическую</quote> длину в битах, не считая пробелов, то перед передачей
                аргумента в BIT_LENGTH надо выполнить над ним операцию RIGHT TRIM. </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции BIT_LENGTH</title>
                        <para><programlisting language="sql">
SELECT BIT_LENGTH ('Hello!') FROM RDB$DATABASE
-- возвращает 48

SELECT BIT_LENGTH (_ISO8859_1 'Grüß Di!')
FROM RDB$DATABASE
-- возвращает 64: каждый, и ü, и ß занимают один байт в ISO8859_1

SELECT BIT_LENGTH (
CAST (_ISO8859_1 'Grüß di!' AS VARCHAR (24)
CHARACTER SET UTF8))
FROM RDB$DATABASE
-- возвращает 80: каждый, и ü, и ß занимают по два байта в UTF8

SELECT BIT_LENGTH (
CAST (_ISO8859_1 'Grüß di!' AS CHAR (24)
CHARACTER SET UTF8))
FROM RDB$DATABASE
-- возвращает 208: размер всех 24 позиций CHAR и два из них 16-битные
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-char_length">CHAR_LENGTH</link>,
                        <link linkend="langref-functions-func-string-octet_length"
                        >OCTET_LENGTH</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-char_length">
            <info>
                <title>CHAR_LENGTH, CHARACTER_LENGTH</title>
                <keywordset>
                    <keyword>CHAR_LENGTH</keyword>
                    <keyword>CHARACTER_LENGTH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>CHAR_LENGTH</primary></indexterm>
            <indexterm><primary>CHARACTER_LENGTH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
CHAR_LENGTH (<replaceable>str</replaceable>)    
                            
CHARACTER_LENGTH (<replaceable>str</replaceable>)                              
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции CHAR_LENGTH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция CHAR_LENGTH возвращает длину (в символах) строки, переданной в качестве
                аргумента.</para>
            <note>
                <para>С параметрами типа CHAR эта функция берет во внимание всю формальную строковую
                    длину (например, объявленная длина поля или переменной). Если вы хотите получить
                        <quote>логическую</quote> длину без учёта пробелов, то перед передачей
                    аргумента в CHAR[ACTER]_LENGTH надо выполнить над ним операцию RIGHT
                    TRIM.</para>
            </note>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-bit_length">BIT_LENGTH</link>,
                        <link linkend="langref-functions-func-string-octet_length"
                        >OCTET_LENGTH</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-left">
            <info>
                <title>LEFT</title>
                <keywordset>
                    <keyword>LEFT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LEFT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LEFT (<replaceable>str</replaceable>, <replaceable>num</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LEFT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>num</replaceable></entry>
                                <entry>
                                    <para>Целое число. Определяет количество возвращаемых
                                        символов.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция LEFT возвращает левую часть строки, количество возвращаемых символов
                определяется вторым параметром. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция поддерживает текстовые блоки любой длины и с любыми наборами
                            символов;</para>
                    </listitem>
                    <listitem>
                        <para>Если строковый аргумент BLOB, результатом будет BLOB, в противном
                            случае результатом будет VARCHAR(N), при этом N – будет равно длине
                            строкового параметра;</para>
                    </listitem>
                    <listitem>
                        <para>Если числовой параметр превысит длину текста, результатом будет
                            исходный текст.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект полностью в память. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции LEFT</title>
                        <para><programlisting language="sql">
SELECT LEFT('ABC', 2) FROM rdb$database;
-- результат AB
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-right">RIGHT</link>, <link
                        linkend="langref-functions-func-string-substring">SUBSTRING</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-lower">
            <info>
                <title>LOWER</title>
                <keywordset>
                    <keyword>LOWER</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LOWER</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LOWER (<replaceable>str</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LOWER</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция LOWER возвращает входную строку в нижнем регистре. Точный результат
                зависит от набора символов входной строки. Например, для наборов символов NONE и
                ASCII только ASCII символы переводятся в нижний регистр; для OCTETS — вся входная
                строка возвращается без изменений. </para>
            <para><emphasis>Примеры:</emphasis></para>
            <example>
                <title>Использование функции LOWER</title>
                <para><programlisting language="sql">
/* Результат: 'debacle', в соответствии с французскими 
 * правилами приведения в нижний регистр 
 */                        
SELECT LOWER(_ISO8859_1 'Débâcle' COLLATE FR_FR)
FROM RDB$DATABASE
                </programlisting></para>
            </example>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-upper">UPPER</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-lpad">
            <info>
                <title>LPAD</title>
                <keywordset>
                    <keyword>LPAD</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LPAD</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LPAD (<replaceable>str</replaceable>, <replaceable>endlen</replaceable> [, <replaceable>padstr</replaceable>])                                                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LPAD</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>endlen</replaceable></entry>
                                <entry>
                                    <para>Длина выходной строки.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>padstr</replaceable></entry>
                                <entry>
                                    <para>Строка, которой дополняется исходная строка до указанной
                                        длины. По умолчанию является пробелом (' ').</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(<replaceable>endlen</replaceable>) или BLOB.</para>
            </formalpara>

            <para>Функция LPAD дополняет слева входную строку пробелами или определённой
                пользователем строкой до заданной длины. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция поддерживает текстовые блоки любой длины и с любыми наборами
                            символов;</para>
                    </listitem>
                    <listitem>
                        <para>Если входная строка имеет тип BLOB, то результат также будет BLOB, в
                            противном случае результат будет
                                VARCHAR(<replaceable>endlen</replaceable>).</para>
                    </listitem>
                    <listitem>
                        <para>Если аргумент <replaceable>padstr</replaceable> задан, но равен пустой
                            строке (''), то дополнения строки не происходит! В случае если
                                <replaceable>endlen</replaceable> меньше длины входной строки, то в
                            результате происходит её усечение до длины
                                <replaceable>endlen</replaceable>, даже если параметр
                                <replaceable>padstr</replaceable> равен пустой строке.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект полностью в память. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции LPAD</title>
                        <para><programlisting language="sql">
LPAD ('Hello', 12)                -- возвращает '       Hello'
LPAD ('Hello', 12, '-')           -- возвращает '-------Hello'
LPAD ('Hello', 12, '')            -- возвращает 'Hello'
LPAD ('Hello', 12, 'abc')         -- возвращает 'abcabcaHello'
LPAD ('Hello', 12, 'abcdefghij')  -- возвращает 'abcdefgHello'
LPAD ('Hello', 2)                 -- возвращает 'He'
LPAD ('Hello', 2, '-')            -- возвращает 'He'
LPAD ('Hello', 2, '')             -- возвращает 'He'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-rpad">RPAD</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-octet_length">
            <info>
                <title>OCTET_LENGTH</title>
                <keywordset>
                    <keyword>OCTET_LENGTH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>OCTET_LENGTH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
OCTET_LENGTH (<replaceable>str</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции OCTET_LENGTH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция OCTET_LENGTH возвращает количество байт занимаемое строкой.</para>
            <para>При работе с параметрами типа CHAR функция возвращает значение всей формальной
                строковой длины. Для того чтобы узнать &quot;логическую&quot; длину строки в байтах,
                то перед передачей аргумента функции следует применить RIGHT TRIM.</para>
            <note>
                <para>Следует помнить, что не во всех наборах символов количество байт занимаемых
                    строкой равно количеству символов.</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции OCTET_LENGTH</title>
                        <para><programlisting language="sql">
SELECT OCTET_LENGTH('Hello!') 
FROM rdb$database
-- возвратит 6

SELECT OCTET_LENGTH(_iso8859_1 'Grüß di!') 
FROM rdb$database
-- возвратит 8: ü и ß занимают не более 1 байта в ISO8859_1

SELECT 
  OCTET_LENGTH(CAST(_iso8859_1 'Grüß di!' AS VARCHAR(24) CHARACTER SET utf8))
FROM rdb$database
-- возвратит 10: ü и ß занимают 2 байта в UTF8

SELECT 
  OCTET_LENGTH(CAST(_iso8859_1 'Grüß di!' AS CHAR(24) CHARACTER SET utf8))
FROM rdb$database
-- возвратит 26: всего 24 CHAR позиции, и две из них занимают 2 байта
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-bit_length">BIT_LENGTH</link>,
                        <link linkend="langref-functions-func-string-char_length"
                    >CHAR_LENGTH</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-overlay">
            <info>
                <title>OVERLAY</title>
                <keywordset>
                    <keyword>OVERLAY</keyword>
                </keywordset>
            </info>
            <indexterm><primary>OVERLAY</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
OVERLAY (<replaceable>string</replaceable> PLACING <replaceable>replacement</replaceable> FROM <replaceable>pos</replaceable> [FOR <replaceable>length</replaceable>])                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции OVERLAY</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>string</replaceable></entry>
                                <entry>
                                    <para>Строка, в которой происходит замена.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>replacement</replaceable></entry>
                                <entry>
                                    <para>Строка, которой заменяется.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>pos</replaceable></entry>
                                <entry>
                                    <para>Позиция, с которой происходит замена. </para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>length</replaceable></entry>
                                <entry>
                                    <para>Количество символов, которые будут удалены из исходной
                                        строки. </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция OVERLAY предназначена для замены части строки другой строкой. </para>
            <para>По умолчанию число удаляемых из строки символов равняется длине заменяемой строки.
                Дополнительный четвёртый параметр позволяет пользователю задать своё число символов,
                которые будут удалены.</para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция полностью поддерживает тестовые BLOB с любым набором символов
                            и любой длины;</para>
                    </listitem>
                    <listitem>
                        <para>Если входная строка имеет тип BLOB, то и результат будет иметь тип
                            BLOB. В противном случае тип результата будет VARCHAR(n), где n является
                            суммой длин параметров <replaceable>string</replaceable> и
                                <replaceable>replacement</replaceable>;</para>
                    </listitem>
                    <listitem>
                        <para>Как и во всех строковых функциях SQL параметр
                                <replaceable>pos</replaceable> является определяющим;</para>
                    </listitem>
                    <listitem>
                        <para>Если <replaceable>pos</replaceable> больше длины строки, то
                                <replaceable>replacement</replaceable> помещается сразу после
                            окончания строки;</para>
                    </listitem>
                    <listitem>
                        <para>Если число символов от <replaceable>pos</replaceable> до конца строки
                            меньше, чем длина <replaceable>replacement</replaceable> (или, чем
                            параметр <replaceable>length</replaceable>, если он задан), то строка
                            усекается до значения pos и <replaceable>replacement</replaceable>
                            помещается после него;</para>
                    </listitem>
                    <listitem>
                        <para>При нулевом параметре <replaceable>length</replaceable> (FOR 0)
                                <replaceable>replacement</replaceable> просто вставляется в строку,
                            начиная с позиции <replaceable>pos</replaceable>;</para>
                    </listitem>
                    <listitem>
                        <para>Если любой из параметров имеет значение NULL, то и результат будет
                            NULL;</para>
                    </listitem>
                    <listitem>
                        <para>Если параметры <replaceable>pos</replaceable> и
                                <replaceable>length</replaceable> не являются целым числом, то
                            используется банковское округление (до чётного): 0.5 становится 0, 1.5
                            становится 2, 2.5 становится 2, 3.5 становится 4 и т.д.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB функции может потребоваться загрузить весь объект в
                    память. При больших размерах BLOB это может повлиять на производительность.
                </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции OVERLAY</title>
                        <para><programlisting language="sql">
OVERLAY ('Goodbye' PLACING 'Hello' FROM 2) -- Результат: 'Ghelloe'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 5) -- Результат: 'GoodHello'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 8) -- Результат: 'GoodbyeHello'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 20) -- Результат: 'GoodbyeHello'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 2 FOR 0) -– Результат: 'GHellooodbye'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 2 FOR 3) -- Результат: 'GHellobye'
OVERLAY ('Goodbye' PLACING 'Hello' FROM 2 FOR 6) -- Результат: 'GHello'	
OVERLAY ('Goodbye' PLACING 'Hello' FROM 2 FOR 9) -- Результат: 'Ghello'
OVERLAY ('Goodbye' PLACING '' FROM 4) -- Результат: 'Goodbye'
OVERLAY ('Goodbye' PLACING '' FROM 4 FOR 3) -- Результат: 'Gooe'
OVERLAY ('Goodbye' PLACING '' FROM 4 FOR 20) -- Результат: 'Goo'
OVERLAY ('' PLACING 'Hello' FROM 4) -- Результат: 'Hello'
OVERLAY ('' PLACING 'Hello' FROM 4 FOR 0) -- Результат: 'Hello'
OVERLAY ('' PLACING 'Hello' FROM 4 FOR 20) -- Результат: 'Hello'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-substring">SUBSTRING</link>, <link
                        linkend="langref-functions-func-string-replace">REPLACE</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-string-position">
            <info>
                <title>POSITION</title>
                <keywordset>
                    <keyword>POSITION</keyword>
                </keywordset>
            </info>
            <indexterm><primary>POSITION</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
POSITION (<replaceable>&lt;args&gt;</replaceable>)

<replaceable>&lt;args&gt;</replaceable> ::= 
    <replaceable>substr</replaceable> IN <replaceable>string</replaceable>
  | <replaceable>substr</replaceable>, <replaceable>string</replaceable> [, <replaceable>startpos</replaceable>]                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции POSITION</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>substr</replaceable></entry>
                                <entry>
                                    <para>Подстрока, позиция которой ищется.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>string</replaceable></entry>
                                <entry>
                                    <para>Строка, в которой ищется позиция.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>startpos</replaceable></entry>
                                <entry>
                                    <para>Позиция, с которой начинается поиск подстроки.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER.</para>
            </formalpara>

            <para>Функция POSITION возвращает позицию первого вхождения подстроки в строку. Отсчёт
                начинается с 1. Третий аргумент (опциональный) задаёт позицию в строке, с которой
                начинается поиск подстроки, тем самым игнорирую любые вхождения подстроки в строку
                до этой позиции. Если совпадение не найдено, функция возвращает 0. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Опциональный третий параметр поддерживается только вторым вариантом
                            синтаксиса (синтаксис с запятой);</para>
                    </listitem>
                    <listitem>
                        <para>Пустую строку, функция считает подстрокой любой строки. Поэтому при
                            входном параметре <replaceable>substr</replaceable>, равном '' (пустая
                            строка), и при параметре <replaceable>string</replaceable>, отличном от
                            NULL, результатом будет:<itemizedlist>
                                <listitem>
                                    <para>1, если параметр <replaceable>startpos</replaceable> не
                                        задан;</para>
                                </listitem>
                                <listitem>
                                    <para>1, если параметр <replaceable>startpos</replaceable> не
                                        задан;</para>
                                </listitem>
                                <listitem>
                                    <para><replaceable>startpos</replaceable>, если
                                            <replaceable>startpos</replaceable> не превышает длину
                                        параметра <replaceable>string</replaceable>.</para>
                                </listitem>
                            </itemizedlist></para>
                    </listitem>
                </itemizedlist>
            </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции POSITION</title>
                        <para><programlisting language="sql">
POSITION ('be' IN 'To be or not to be')   -- Результат: 4
POSITION ('be', 'To be or not to be')     -- Результат: 4
POSITION ('be', 'To be or not to be', 4)  -- Результат: 4
POSITION ('be', 'To be or not to be', 8)  -- Результат: 17
POSITION ('be', 'To be or not to be', 18) -- Результат: 0
POSITION ('be' in 'Alas, poor Yorick!') -- Результат: 0
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-substring">SUBSTRING</link>.
                </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-replace">
            <info>
                <title>REPLACE</title>
                <keywordset>
                    <keyword>REPLACE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>REPLACE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
REPLACE (<replaceable>str</replaceable>, <replaceable>find</replaceable>, <replaceable>repl</replaceable>)                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции REPLACE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Строка, в которой делается замена.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>find</replaceable></entry>
                                <entry>
                                    <para>Строка, которая ищется.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>repl</replaceable></entry>
                                <entry>
                                    <para>Строка, на которую происходит замена.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция REPLACE заменяет в строке все вхождения одной строки на другую строку. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция поддерживает текстовые блоки любой длины и с любыми наборами
                            символов;</para>
                    </listitem>
                    <listitem>
                        <para>Если один из аргументов имеет тип BLOB, то результат будет иметь тип
                            BLOB. В противном случае результат будет иметь тип VARCHAR(N), где N
                            рассчитывается из длин <replaceable>str</replaceable>,
                                <replaceable>find</replaceable> и <replaceable>repl</replaceable>
                            таким образом, что даже максимальное количество замен не будет вызывать
                            переполнения поля.</para>
                    </listitem>
                    <listitem>
                        <para>Если параметр <replaceable>find</replaceable> является пустой строкой,
                            то возвращается <replaceable>str</replaceable> без изменений;</para>
                    </listitem>
                    <listitem>
                        <para>Если параметр <replaceable>repl</replaceable> является пустой строкой,
                            то все вхождения <replaceable>find</replaceable> удаляются из строки
                                <replaceable>str</replaceable>;</para>
                    </listitem>
                    <listitem>
                        <para>Если любой из аргументов равен NULL, то результатом всегда будет NULL,
                            даже если не было произведено ни одной замены.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект полностью в память. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции REPLACE</title>
                        <para><programlisting language="sql">
REPLACE ('Billy Wilder', 'il', 'oog')  -- возвращает 'Boogly Woogder'
REPLACE ('Billy Wilder', 'il', '')     -- возвращает 'Bly Wder'
REPLACE ('Billy Wilder', null, 'oog')  -- возвращает NULL
REPLACE ('Billy Wilder', 'il', null)   -- возвращает NULL
REPLACE ('Billy Wilder', 'xyz', null)  -- возвращает NULL (!)
REPLACE ('Billy Wilder', 'xyz', 'abc') -- возвращает 'Billy Wilder'
REPLACE ('Billy Wilder', '', 'abc')    -- возвращает 'Billy Wilder'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-overlay">OVERLAY</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-reverse">
            <info>
                <title>REVERSE</title>
                <keywordset>
                    <keyword>REVERSE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>REVERSE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
REVERSE (<replaceable>str</replaceable>)                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции REVERSE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N).</para>
            </formalpara>

            <para>Функция REVERSE возвратит строку перевёрнутую &quot;задом наперёд&quot;. </para>
            <para><emphasis>Примеры:</emphasis></para>
            <example>
                <title>Использование функции REVERSE</title>
                <para><programlisting language="sql">
REVERSE ('spoonful')             -- возвращает 'lufnoops'
REVERSE ('Was it a cat I saw?')  -- возвращает '?was I tac a ti saW'
                </programlisting></para>
            </example>
            <tip>
                <para>Данная функция очень удобна, если вам предстоит работать (сортировать или
                    группировать информацию) которая находится в окончаниях строк. Пример такой
                    информации – доменные имена или имена адресов электронной почты.
                    <programlisting language="sql">
CREATE INDEX ix_people_email ON people
COMPUTED BY (reverse(email));

SELECT * FROM people
WHERE REVERSE(email) STARTING WITH reverse('.br');
                </programlisting>
                </para>
            </tip>
        </section>
        <section xml:id="langref-functions-func-string-right">
            <info>
                <title>RIGHT</title>
                <keywordset>
                    <keyword>RIGHT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RIGHT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RIGHT (<replaceable>str</replaceable>, <replaceable>num</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RIGHT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>num</replaceable></entry>
                                <entry>
                                    <para>Целое число. Определяет количество возвращаемых
                                        символов.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция RIGHT возвращает конечную (правую) часть входной строки. Длина
                возвращаемой подстроки определяется вторым параметром. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция поддерживает текстовые блоки любой длины и с любыми наборами
                            символов;</para>
                    </listitem>
                    <listitem>
                        <para>Если строковый аргумент BLOB, результатом будет BLOB, в противном
                            случае результатом будет VARCHAR(N), при этом N – будет равно длине
                            строкового параметра;</para>
                    </listitem>
                    <listitem>
                        <para>Если числовой параметр превысит длину текста, результатом будет
                            исходный текст.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект полностью в память. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RIGHT</title>
                        <para><programlisting language="sql">
SELECT RIGHT('ABC', 1) FROM rdb$database;
-- результат C
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-left">LEFT</link>, <link
                        linkend="langref-functions-func-string-substring">SUBSTRING</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-rpad">
            <info>
                <title>RPAD</title>
                <keywordset>
                    <keyword>RPAD</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RPAD</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RPAD (<replaceable>str</replaceable>, <replaceable>endlen</replaceable> [, <replaceable>padstr</replaceable>])                                                     
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RPAD</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>endlen</replaceable></entry>
                                <entry>
                                    <para>Длина выходной строки.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>padstr</replaceable></entry>
                                <entry>
                                    <para>Строка, которой дополняется исходная строка до указанной
                                        длины. По умолчанию является пробелом (' ').</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(<replaceable>endlen</replaceable>) или BLOB.</para>
            </formalpara>

            <para>Функция RPAD дополняет справа входную строку пробелами или определённой
                пользователем строкой до заданной длины. </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Функция поддерживает текстовые блоки любой длины и с любыми наборами
                            символов;</para>
                    </listitem>
                    <listitem>
                        <para>Если входная строка имеет тип BLOB, то результат также будет BLOB, в
                            противном случае результат будет
                                VARCHAR(<replaceable>endlen</replaceable>).</para>
                    </listitem>
                    <listitem>
                        <para>Если аргумент <replaceable>padstr</replaceable> задан, но равен пустой
                            строке (''), то дополнения строки не происходит! В случае если
                                <replaceable>endlen</replaceable> меньше длины входной строки, то в
                            результате происходит её усечение до длины
                                <replaceable>endlen</replaceable>, даже если параметр
                                <replaceable>padstr</replaceable> равен пустой строке.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект полностью в память. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RPAD</title>
                        <para><programlisting language="sql">
RPAD ('Hello', 12)                -- возвращает 'Hello       '
RPAD ('Hello', 12, '-')           -- возвращает 'Hello-------'
RPAD ('Hello', 12, '')            -- возвращает 'Hello'
RPAD ('Hello', 12, 'abc')         -- возвращает 'Helloabcabca'
RPAD ('Hello', 12, 'abcdefghij')  -- возвращает 'Helloabcdefg'
RPAD ('Hello', 2)                 -- возвращает 'He'
RPAD ('Hello', 2, '-')            -- возвращает 'He'
RPAD ('Hello', 2, '')             -- возвращает 'He'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-lpad">LPAD</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-substring">
            <info>
                <title>SUBSTRING</title>
                <keywordset>
                    <keyword>SUBSTRING</keyword>
                </keywordset>
            </info>
            <indexterm><primary>SUBSTRING</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
SUBSTRING (<replaceable>&lt;args&gt;</replaceable>)                                                                                
                        
<replaceable>&lt;args&gt;</replaceable> ::= 
    <replaceable>str</replaceable> FROM <replaceable>startpos</replaceable> [FOR <replaceable>length</replaceable>]                        
  | <replaceable>str</replaceable> SIMILAR <replaceable>&lt;similar_pattern&gt;</replaceable> ESCAPE <replaceable>&lt;escape&gt;</replaceable>                     
                            
<replaceable>&lt;similar_pattern&gt;</replaceable> ::=
  <replaceable>&lt;similar pattern: R1&gt;</replaceable>
  <replaceable>&lt;escape&gt;</replaceable>&quot;<replaceable>&lt;similar pattern: R2&gt;</replaceable><replaceable>&lt;escape&gt;</replaceable>&quot;
  <replaceable>&lt;similar pattern: R3&gt;</replaceable>                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции SUBSTRING</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>startpos</replaceable></entry>
                                <entry>
                                    <para>Позиция, с которой начинается извлечение подстроки.
                                        Целочисленное выражение.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>length</replaceable></entry>
                                <entry>
                                    <para>Длина возвращаемой подстроки. Целочисленное
                                        выражение.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>similar_pattern</replaceable></entry>
                                <entry>
                                    <para>Шаблон регулярного выражения SQL, по которому ищется
                                        подстрока.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>escape</replaceable></entry>
                                <entry>
                                    <para>Символ экранирования.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>
            <para>Функция SUBSTRING возвращает подстроку из строки, начиная с заданной позиции до
                конца строки или до указанной длины, либо извлекает подстроку с использованием
                шаблона регулярного выражения SQL. </para>

            <para>Если любой из входных параметров имеет значение NULL, то и результат тоже будет
                иметь значение NULL.</para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект в память полностью. При больших объёмах BLOB могут наблюдаться потери
                    производительности. </para>
            </warning>

            <section>
                <title>Позиционный SUBSTRING</title>

                <para>В простой позиционной форме (с FROM) эта функция возвращает подстроку,
                    начинающуюся с позиции символа <replaceable>startpos</replaceable> (первая
                    позиция равна 1). Без аргумента FOR он возвращает все оставшиеся символы в
                    строке. С использованием FOR возвращается <replaceable>length</replaceable>
                    символов или остаток строки, в зависимости от того что короче. </para>

                <para>Функция полностью поддерживает двоичные и текстовые BLOB любой длины и с любым
                    набором символов. Если параметр <replaceable>str</replaceable> имеет тип BLOB,
                    то и результат будет иметь тип BLOB. Для любых других типов результатом будет
                    тип VARCHAR(n).</para>

                <para>Для входного параметра <replaceable>str</replaceable>, не являющегося BLOB,
                    длина результата функции всегда будет равна длине строки
                        <replaceable>str</replaceable>, независимо от значений параметров
                        <replaceable>startpos</replaceable> и <replaceable>length</replaceable>. </para>

                <formalpara>
                    <title>Примеры:</title>
                    <para>
                        <example>
                            <title>Использование функции SUBSTRING</title>
                            <para><programlisting language="sql">
SUBSTRING('Привет!' FROM 4 FOR 3)  -- вернёт подстроку 'вет'
                </programlisting></para>
                        </example>
                    </para>
                </formalpara>
            </section>
            <section>
                <title>SUBSTRING по регулярному выражению</title>

                <para>Функция SUBSTRING с регулярным выражением (с SIMILAR) возвращает часть строки
                    соответствующей шаблону регулярного выражения SQL. Если соответствия не найдено,
                    то возвращается NULL. </para>

                <para>Шаблон SIMILAR формируется из трех шаблонов регулярных выражений SQL: R1, R2 и
                    R3. Полностью шаблон имеет форму <code>R1 ||
                            '<replaceable>&lt;escape&gt;</replaceable>"' || R2 ||
                            '<replaceable>&lt;escape&gt;</replaceable>"' || R3</code> , где
                        <replaceable>&lt;escape&gt;</replaceable> — это escape-символ, определенный
                    в предложении ESCAPE. R2 — это шаблон, который соответствует подстроке для
                    извлечения и заключен в экранированные двойные кавычки
                        (<replaceable>&lt;;escape&gt;</replaceable>", например, <quote>#"</quote> с
                    escape-символом <quote>#</quote>). R1 соответствует префиксу строки, а R3 —
                    суффиксу строки. И R1, и R3 необязательны (они могут быть пустыми), но шаблон
                    должен соответствовать всей строке. Другими словами, недостаточно указать
                    шаблон, который находит только подстроку для извлечения. </para>
                <tip>
                    <para>Экранированные двойные кавычки вокруг R2 можно сравнить с определением
                        одной группы захвата в более распространенном синтаксисе регулярных
                        выражений, таком как PCRE. То есть полный шаблон эквивалентен
                            <code>R1(R2)R3</code>, который должен соответствовать всей входной
                        строке, а группа захвата — это возвращаемая подстрока. </para>
                    <para>Возвращаемое значение соответствует части R2 регулярного выражения. Для
                        этого значения истинно выражение
                        <programlisting>
<replaceable>str</replaceable> SIMILAR TO R1 || R2 || R3 ESCAPE <replaceable>&lt;escape&gt;</replaceable>                            
                                    </programlisting></para>
                </tip>
                <note>
                    <para>Если любая часть шаблона из R1, R2 или R3 не является пустой строкой и не
                        имеет формата регулярного выражения SQL, возникает исключение. </para>
                </note>

                <para>Полный формат регулярных выражений SQL описан в <link
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        linkend="langref-commons-syntaxregex">Синтаксис регулярных выражений
                        SQL</link>. </para>

                <formalpara>
                    <title>Примеры:</title>
                    <para>
                        <example>
                            <title>Использование функции SUBSTRING с регулярными выражениями</title>
                            <para><programlisting language="sql">
SUBSTRING('abcabc' SIMILAR 'a#"bcab#"c' ESCAPE '#')  -- bcab
SUBSTRING('abcabc' SIMILAR 'a#"%#"c' ESCAPE '#')     -- bcab
SUBSTRING('abcabc' SIMILAR '_#"%#"_' ESCAPE '#')     -- bcab
SUBSTRING('abcabc' SIMILAR '#"(abc)*#"' ESCAPE '#')  -- abcabc
SUBSTRING('abcabc' SIMILAR '#"abc#"' ESCAPE '#')     -- &lt;null&gt;
                </programlisting></para>
                        </example>
                    </para>
                </formalpara>

                <formalpara>
                    <title>См. также:</title>

                    <para>
                        <link linkend="langref-functions-func-string-position">POSITION</link>,
                            <link linkend="langref-functions-func-string-left">LEFT</link>, <link
                            linkend="langref-functions-func-string-right">RIGHT</link>, <link
                            linkend="langref-functions-func-string-char_length">CHAR_LENGTH</link>,
                            <link linkend="langref-commons-predsimilarto">SIMILAR TO</link>. </para>
                </formalpara>
            </section>
        </section>
        <section xml:id="langref-functions-func-string-trim">
            <info>
                <title>TRIM</title>
                <keywordset>
                    <keyword>TRIM</keyword>
                </keywordset>
            </info>
            <indexterm><primary>TRIM</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
TRIM ([<replaceable>&lt;adjust&gt;</replaceable>] <replaceable>str</replaceable>)

<replaceable>&lt;adjust&gt;</replaceable> ::=  {[<replaceable>&lt;where&gt;</replaceable>] [<replaceable>what</replaceable>]} FROM

<replaceable>&lt;where&gt;</replaceable> ::=  BOTH | LEADING | TRAILING                                                                                 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции TRIM</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>where</replaceable></entry>
                                <entry>
                                    <para>Из какого места необходимо удалить подстроку. По умолчанию
                                        BOTH.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>what</replaceable></entry>
                                <entry>
                                    <para>Подстрока, которую надо удалить (неоднократно, если таких
                                        вхождений несколько) из входной строки
                                            <replaceable>str</replaceable> в её начале и/или конце.
                                        По умолчанию является пробелом (' ').</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция TRIM удаляет начальные и /или концевые пробелы (или текст согласно
                настройкам) из входной строки.</para>
            <para>
                <table frame="all">
                    <title>Спецификация опций функции TRIM</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.0*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.0*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center"> Опция </entry>
                                <entry align="center"> Описание </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry> BOTH </entry>
                                <entry> с обеих сторон строки (по умолчанию) </entry>
                            </row>
                            <row>
                                <entry> LEADING </entry>
                                <entry> с начала строки </entry>
                            </row>
                            <row>
                                <entry> TRAILING </entry>
                                <entry> с конца строки </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Если входной параметр <replaceable>str</replaceable> имеет тип BLOB,
                            то и результат будет иметь тип BLOB. В противном случае результат будет
                            иметь тип VARCHAR(n), где n является длиной параметра
                                <replaceable>str</replaceable>;</para>
                    </listitem>
                    <listitem>
                        <para>Подстрока для удаления, если она, конечно, задана, не должна иметь
                            длину больше, чем 32767 байта. Однако при повторениях подстроки в начале
                            и/или конце входного параметра <replaceable>str</replaceable> общее
                            число удаляемых байтов может быть гораздо больше.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <warning>
                <para>При использовании BLOB в параметрах функции может потребоваться загрузить
                    объект в память полностью. При больших объёмах BLOB могут наблюдаться потери
                    производительности.</para>
            </warning>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции TRIM</title>
                        <para><programlisting language="sql">
SELECT TRIM (' Waste no space ')
FROM RDB$DATABASE -- Результат: 'Waste no space'

SELECT TRIM (LEADING FROM ' Waste no space ')
FROM RDB$DATABASE -- Результат: 'Waste no space '

SELECT TRIM (LEADING '.' FROM ' Waste no space ')
FROM RDB$DATABASE -- Результат: ' Waste no space '

SELECT TRIM (TRAILING '!' FROM 'Help!!!!')
FROM RDB$DATABASE -- Результат: 'Help'

SELECT TRIM ('la' FROM 'lalala I love you Ella')
FROM RDB$DATABASE -- Результат: ' I love you El'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-overlay">OVERLAY</link>, <link
                        linkend="langref-functions-func-string-replace">REPLACE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-string-upper">
            <info>
                <title>UPPER</title>
                <keywordset>
                    <keyword>UPPER</keyword>
                </keywordset>
            </info>
            <indexterm><primary>UPPER</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
UPPER (<replaceable>str</replaceable>)                         
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции UPPER</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR(N) или BLOB.</para>
            </formalpara>

            <para>Функция UPPER возвращает входную строку в верхнем регистре. Точный результат
                зависит от набора символов входной строки. Например, для наборов символов NONE и
                ASCII только ASCII символы переводятся в верхний регистр; для OCTETS — вся входная
                строка возвращается без изменений. </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции UPPER</title>
                        <para><programlisting language="sql">
/* Результат: 'DEBACLE', в соответствии с французскими 
 * правилами приведения в верхний регистр 
 */                        
SELECT UPPER(_ISO8859_1 'Débâcle' COLLATE FR_FR)
FROM RDB$DATABASE
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-string-lower">LOWER</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-datetime">
        <info>
            <title>Функции для работы с датой и временем</title>
        </info>

        <section xml:id="langref-functions-func-datetime-attimezone">
            <info>
                <title>AT</title>
                <keywordset>
                    <keyword>AT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>AT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>                                                           
<replaceable>&lt;expr&gt;</replaceable> AT {TIME ZONE <replaceable>&lt;time zone string&gt;</replaceable> | LOCAL}                       
                        
<replaceable>&lt;time zone string&gt;</replaceable> ::=
    '<replaceable>&lt;time zone&gt;</replaceable>'                            
                            
<replaceable>&lt;time zone&gt;</replaceable> ::=
    <replaceable>&lt;time zone region&gt;</replaceable> |
    [+/-] <replaceable>&lt;hour displacement&gt;</replaceable> [: <replaceable>&lt;minute displacement&gt;</replaceable>]                         
                        </programlisting>
                </para>
            </formalpara>

            <para>Преобразует время или временную метку в указанный часовой пояс. Если используется
                ключевое слово LOCAL, то преобразование происходит в часовой пояс сессии.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции AT</title>
                        <para><programlisting language="sql">
select time '12:00 GMT' at time zone '-03'
  from rdb$database;

select current_timestamp at time zone 'America/Sao_Paulo'
  from rdb$database;

select timestamp '2018-01-01 12:00 GMT' at local
  from rdb$database;
                </programlisting>
                        </para>
                    </example>
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-datetime-dateadd">
            <info>
                <title>DATEADD</title>
                <keywordset>
                    <keyword>DATEADD</keyword>
                </keywordset>
            </info>
            <indexterm><primary>DATEADD</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
DATEADD (<replaceable>&lt;args&gt;</replaceable>)
                            
<replaceable>&lt;args&gt;</replaceable> ::= <replaceable>amount</replaceable> <replaceable>&lt;unit&gt;</replaceable> TO <replaceable>datetime</replaceable>
         | <replaceable>&lt;unit&gt;</replaceable>, <replaceable>amount</replaceable>, <replaceable>datetime</replaceable> 
                            
<replaceable>&lt;unit&gt;</replaceable> ::= 
    YEAR | MONTH | WEEK | DAY | WEEKDAY | YEARDAY
  | HOUR | MINUTE | SECOND | MILLISECOND                           
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции DATEADD</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>amount</replaceable></entry>
                                <entry>
                                    <para>Выражение типа SMALLINT, INTEGER, BIGINT или NUMERIC
                                        (отрицательное вычитается).</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>unit</replaceable></entry>
                                <entry>
                                    <para>Составляющая даты/времени.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>datetime</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE, TIME или TIMESTAMP.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>определяется третьим аргументом функции. </para>
            </formalpara>

            <para>Функция DATEADD позволяет добавить заданное число лет, месяцев, недель, часов,
                минут, секунд, миллисекунд к заданному значению даты/времени.</para>
            <note>
                <para>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>С аргументом типа TIMESTAMP и DATE можно использовать любую
                                составляющую даты/времени
                                (<replaceable>&lt;unit&gt;</replaceable>);</para>
                        </listitem>
                        <listitem>
                            <para>Для типа данных TIME разрешается использовать только HOUR, MINUTE,
                                SECOND и MILLISECOND.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции DATEADD</title>
                        <para><programlisting language="sql">
DATEADD (28 DAY TO CURRENT_DATE)
DATEADD (-6 HOUR TO CURRENT_TIME)
DATEADD (MONTH, 9, DATEOFCONCEPTION)
DATEADD (-38 WEEK TO DATEOFBIRTH)
DATEADD (MINUTE, 90, CAST('NOW' AS TIME))
DATEADD (? YEAR TO DATE '11-SEP-1973')

SELECT 
  CAST(DATEADD(-1 * EXTRACT(MILLISECOND FROM ts) MILLISECOND TO ts) AS VARCHAR(30)) AS t, 
  EXTRACT(MILLISECOND FROM ts) AS ms 
FROM ( 
    SELECT TIMESTAMP'2014-06-09 13:50:17.4971' as ts 
    FROM RDB$DATABASE 
) a 
                </programlisting>
                            <screen>
T                             MS
------------------------------------    
2014-06-09 13:50:17.0000	497.1 
</screen>
                        </para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-datetime-datediff">DATEDIFF</link>, <link
                        linkend="langref-datatypes-datetime-operation">Операции, использующие
                        значения даты и времени</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-datetime-datediff">
            <info>
                <title>DATEDIFF</title>
                <keywordset>
                    <keyword>DATEDIFF</keyword>
                </keywordset>
            </info>
            <indexterm><primary>DATEDIFF</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
DATEDIFF (<replaceable>&lt;args&gt;</replaceable>)
                            
<replaceable>&lt;args&gt;</replaceable> ::= <replaceable>&lt;unit&gt;</replaceable> FROM <replaceable>moment_1</replaceable> TO <replaceable>moment_2</replaceable>
         | <replaceable>&lt;unit&gt;</replaceable>, <replaceable>moment_1</replaceable>, <replaceable>moment_2</replaceable> 
                            
<replaceable>&lt;unit&gt;</replaceable> ::= 
    YEAR | MONTH | WEEK | DAY | WEEKDAY | YEARDAY
  | HOUR | MINUTE | SECOND | MILLISECOND                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции DATEDIFF</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>unit</replaceable></entry>
                                <entry>
                                    <para>Составляющая даты/времени.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>monent_1</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE, TIME или TIMESTAMP.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>monent_2</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE, TIME или TIMESTAMP.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция DATEDIFF возвращает количество лет, месяцев, недель, дней, часов, минут,
                секунд или миллисекунд между двумя значениями даты/времени.</para>
            <para>Особенности использования: <itemizedlist spacing="compact">
                    <listitem>
                        <para>Параметры DATE и TIMESTAMP могут использоваться совместно. Совместное
                            использование типа TIME с типами DATE и TIMESTAMP не разрешается;</para>
                    </listitem>
                    <listitem>
                        <para>С аргументом типа TIMESTAMP и DATE можно использовать любую
                            составляющую даты/времени
                            (<replaceable>&lt;unit&gt;</replaceable>);</para>
                    </listitem>
                    <listitem>
                        <para>Для типа данных TIME разрешается использовать только HOUR, MINUTE,
                            SECOND и MILLISECOND.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <note>
                <para>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Функция DATEDIFF не проверяет разницу в более мелких составляющих
                                даты/времени, чем задана в первом аргументе
                                    (<replaceable>&lt;unit&gt;</replaceable>). В результате
                                получаем:
                                <programlisting>
- DATEDIFF (YEAR, DATE '1-JAN-2009', DATE '31-DEC-2009') = 0, но 
- DATEDIFF (YEAR, DATE '31-DEC-2009', DATE '1-JAN-2010') = 1
                                </programlisting>
                            </para>
                        </listitem>
                        <listitem>
                            <para>Однако для более мелких составляющих даты/времени имеем:
                                <programlisting>
- DATEDIFF (DAY, DATE '26-JUN-1908', DATE '11-SEP-1973') = 23818 
- DATEDIFF (DAY, DATE '30-NOV-1971', DATE '8-JAN-1972') = 39
                                </programlisting>
                            </para>
                        </listitem>
                        <listitem>
                            <para>Отрицательное значение функции говорит о том, что дата/время в
                                    <replaceable>moment_2</replaceable> меньше, чем в
                                    <replaceable>moment_1</replaceable>. </para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции DATEDIFF</title>
                        <para><programlisting language="sql">
DATEDIFF (HOUR FROM CURRENT_TIMESTAMP TO TIMESTAMP '12-JUN-2059 06:00')
DATEDIFF (MINUTE FROM TIME '0:00' TO CURRENT_TIME)
DATEDIFF (MONTH, CURRENT_DATE, DATE '1-1-1900')
DATEDIFF (DAY FROM CURRENT_DATE TO CAST (? AS DATE))
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-datetime-dateadd">DATEADD</link>, <link
                        linkend="langref-datatypes-datetime-operation">Операции, использующие
                        значения даты и времени</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-datetime-extract">
            <info>
                <title>EXTRACT</title>
                <keywordset>
                    <keyword>EXTRACT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>EXTRACT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
EXTRACT (<replaceable>&lt;part&gt;</replaceable> FROM <replaceable>datetime</replaceable>) 
                            
<replaceable>&lt;part&gt;</replaceable> ::= 
    YEAR | MONTH | WEEK | DAY | WEEKDAY | YEARDAY
  | HOUR | MINUTE | SECOND | MILLISECOND
  | TIMEZONE_HOUR | TIMEZONE_MINUTE                             
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции EXTRACT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>part</replaceable></entry>
                                <entry>
                                    <para>Составляющая даты/времени.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>datetime</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE, TIME или TIMESTAMP.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>SMALLINT или NUNERIC.</para>
            </formalpara>

            <para>Функция EXTRACT извлекает составляющие даты и времени из типов данных DATE, TIME и
                TIMESTAMP.</para>
            <para>
                <table frame="all">
                    <title>Типы и диапазоны результатов функции EXTRACT</title>
                    <tgroup cols="4">
                        <colspec colname="c1" colnum="1" colwidth="1.0*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="1.0*" align="left"/>
                        <colspec colname="c3" colnum="3" colwidth="1.0*" align="left"/>
                        <colspec colname="c4" colnum="4" colwidth="1.0*" align="left"/>
                        <thead>
                            <row>
                                <entry align="center"> Составляющая даты/времени </entry>
                                <entry align="center"> Тип </entry>
                                <entry align="center"> Диапазон </entry>
                                <entry align="center"> Комментарий </entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry>YEAR </entry>
                                <entry>SMALLINT </entry>
                                <entry>1–9999 </entry>
                                <entry>Год</entry>
                            </row>
                            <row>
                                <entry>MONTH </entry>
                                <entry>SMALLINT </entry>
                                <entry>1–12 </entry>
                                <entry>Месяц</entry>
                            </row>
                            <row>
                                <entry>WEEK </entry>
                                <entry>SMALLINT </entry>
                                <entry>1–53 </entry>
                                <entry>Номер недели в году</entry>
                            </row>
                            <row>
                                <entry>DAY </entry>
                                <entry>SMALLINT </entry>
                                <entry>1–31 </entry>
                                <entry>День</entry>
                            </row>
                            <row>
                                <entry>WEEKDAY </entry>
                                <entry>SMALLINT </entry>
                                <entry>0–6 </entry>
                                <entry>День недели. 0 — Воскресенье </entry>
                            </row>
                            <row>
                                <entry>YEARDAY </entry>
                                <entry>SMALLINT </entry>
                                <entry>0–365 </entry>
                                <entry>Номер дня в году. 0 = 1 января </entry>
                            </row>
                            <row>
                                <entry>HOUR </entry>
                                <entry>SMALLINT </entry>
                                <entry>0–23 </entry>
                                <entry>Часы</entry>
                            </row>
                            <row>
                                <entry>MINUTE </entry>
                                <entry>SMALLINT </entry>
                                <entry>0–59 </entry>
                                <entry>Минуты</entry>
                            </row>
                            <row>
                                <entry>SECOND </entry>
                                <entry>NUMERIC(9,4) </entry>
                                <entry>0.0000–59.9999 </entry>
                                <entry>Секунды. Включает в себя миллисекунды </entry>
                            </row>
                            <row>
                                <entry>MILLISECOND </entry>
                                <entry>NUMERIC(9,1) </entry>
                                <entry>0.0–999.9 </entry>
                                <entry>Миллисекунды</entry>
                            </row>
                            <row>
                                <entry>TIMEZONE_HOUR</entry>
                                <entry>SMALLINT</entry>
                                <entry>от -14 до +14</entry>
                                <entry>Смещение часов часового пояса</entry>
                            </row>
                            <row>
                                <entry>TIMEZONE_MINUTE</entry>
                                <entry>SMALLINT</entry>
                                <entry>от -59 до +59</entry>
                                <entry>Смещение минут часового пояса</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <note>
                <para>Если составляющая даты/времени не присутствует в аргументе дата/время,
                    например SECOND в аргументе с типом DATE или YEAR в TIME, то функция вызовет
                    ошибку.</para>
            </note>
            <para>Из аргумента с типом данных DATE или TIMESTAMP можно извлекать номер недели. В
                соответствии со стандартом ISO-8601 неделя начинается с понедельника и всегда
                включает в себя 7 дней. Первой неделей года является первая неделя, у которой в ней
                больше дней в новом году (по крайней мере, 4): дни 1-3 могут принадлежать предыдущей
                неделе (52 или 53) прошлого года. По аналогии дни 1-3 текущего года могут
                принадлежать 1 неделе следующего года. </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции EXTRACT</title>
                        <para><programlisting language="sql">
/* получить по дате номер квартала */
SELECT (EXTRACT(MONTH FROM CURRENT_TIMESTAMP)-1)/3+1
FROM RDB$DATABASE
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-datatypes-datetime">Типы данных для работы с датой и
                        временем</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-datetime-firstday">
            <info>
                <title>FIRST_DAY</title>
                <keywordset>
                    <keyword>FIRST_DAY</keyword>
                </keywordset>
            </info>
            <indexterm><primary>FIRST_DAY</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
FIRST_DAY( OF <replaceable>&lt;part&gt;</replaceable> FROM <replaceable>&lt;date_or_timestamp&gt;</replaceable> )   
                            
<replaceable>&lt;part&gt;</replaceable> ::= { YEAR | MONTH | WEEK }                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции FIRST_DAY</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>part</replaceable></entry>
                                <entry>
                                    <para>Составляющая даты/времени.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>date_or_timestamp</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE или TIMESTAMP.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DATE или TIMESTAMP.</para>
            </formalpara>

            <para>Возвращает первый день года, месяца или недели для заданной даты.</para>

            <note>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>Первым днём недели считается воскресенье, как это возвращает
                                функция EXTRACT с частью WEEKDAY.</para>
                        </listitem>
                        <listitem>
                            <para>Когда в качестве аргумента функции передаётся выражение типа
                                TIMESTAMP, то возвращаемое значение сохраняет временную
                                часть.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции FIRST_DAY</title>
                        <para><programlisting language="sql">
SELECT FIRST_DAY(OF MONTH FROM current_date) FROM rdb$database;
SELECT FIRST_DAY(OF YEAR FROM current_timestamp) FROM rdb$database;
SELECT FIRST_DAY(OF WEEK FROM date '2017-11-01') FROM rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-datetime-lastday">LAST_DAY</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-datetime-lastday">
            <info>
                <title>LAST_DAY</title>
                <keywordset>
                    <keyword>LAST_DAY</keyword>
                </keywordset>
            </info>
            <indexterm><primary>LAST_DAY</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
LAST_DAY( OF <replaceable>&lt;part&gt;</replaceable> FROM <replaceable>&lt;date_or_timestamp&gt;</replaceable> )   
                            
<replaceable>&lt;part&gt;</replaceable> ::= { YEAR | MONTH | WEEK }                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции LAST_DAY</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>part</replaceable></entry>
                                <entry>
                                    <para>Составляющая даты/времени.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>date_or_timestamp</replaceable></entry>
                                <entry>
                                    <para>Выражение типа DATE или TIMESTAMP.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DATE или TIMESTAMP.</para>
            </formalpara>

            <para>Возвращает последний день года, месяца или недели для заданной даты.</para>

            <note>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>Последним днём недели считается суббота, как это возвращает
                                функция EXTRACT с частью WEEKDAY.</para>
                        </listitem>
                        <listitem>
                            <para>Когда в качестве аргумента функции передаётся выражение типа
                                TIMESTAMP, то возвращаемое значение сохраняет временную
                                часть.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции LAST_DAY</title>
                        <para><programlisting language="sql">
SELECT LAST_DAY(OF MONTH FROM current_date) FROM rdb$database;
SELECT LAST_DAY(OF YEAR FROM current_timestamp) FROM rdb$database;
SELECT LAST_DAY(OF WEEK FROM date '2017-11-01') FROM rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-datetime-firstday">FIRST_DAY</link>.
                </para>
            </formalpara>
        </section>
    </section>

    <section xml:id="langref-functions-func-decfloat">
        <info>
            <title>Функции для работы с типом DECFLOAT</title>
        </info>

        <section xml:id="langref-functions-func-decfloat-compare_decfloat">
            <info>
                <title>COMPARE_DECFLOAT</title>
                <keywordset>
                    <keyword>COMPARE_DECFLOAT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>COMPARE_DECFLOAT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
COMPARE_DECFLOAT (<replaceable>value1</replaceable>, <replaceable>value2</replaceable>)                                                    
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции COMPARE_DECFLOAT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value1</replaceable>,
                                        <replaceable>value2</replaceable></entry>
                                <entry>
                                    <para>Значения типа DECFLOAT.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>SMALLINT.</para>
            </formalpara>

            <para>Функция COMPARE_DECFLOAT сравнивает два значения типа DECFLOAT, которые могут быть
                одинаковыми, разными или неупорядоченными.</para>

            <para>Функция возвращает: <itemizedlist>
                    <listitem>
                        <para>0 - если значения равны;</para>
                    </listitem>
                    <listitem>
                        <para>1 - если первое значение меньше чем второе;</para>
                    </listitem>
                    <listitem>
                        <para>2 - если первое значение больше чем второе;</para>
                    </listitem>
                    <listitem>
                        <para>3 - значения не упорядочены (одно или оба NAN / SNAN).</para>
                    </listitem>
                </itemizedlist></para>

            <para>В отличие от операторов сравнения (&lt;, &gt;, = и др.) сравнение с помощью
                COMPARE_DECFLOAT является точным, т.е.
                <programlisting language="sql">
COMPARE_DECFLOAT(2.17, 2.170)                       
                    </programlisting>
                вернёт 2, а не 0. </para>
        </section>

        <section xml:id="langref-functions-func-decfloat-normalize_decfloat">
            <info>
                <title>NORMALIZE_DECFLOAT</title>
                <keywordset>
                    <keyword>NORMALIZE_DECFLOAT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>NORMALIZE_DECFLOAT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
NORMALIZE_DECFLOAT (<replaceable>value</replaceable>)                                                    
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции NORMALIZE_DECFLOAT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Значение типа DECFLOAT.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DECFLOAT.</para>
            </formalpara>

            <para>Функция NORMALIZE_DECFLOAT возвращает число в нормализованном виде. Это
                обозначает, что для любого ненулевого значения удаляются завершающие нули с
                соответствующей коррекцией экспоненты.</para>

            <example>
                <title>Нормализация различных значений типа DECFLOAT</title>

                <para>
                    <programlisting language="sql"> 
NORMALIZE_DECFLOAT(12.00) -- возвращает 12
NORMALIZE_DECFLOAT(120) -- возвращает 1.2E+2
                </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="langref-functions-func-decfloat-quantize">
            <info>
                <title>QUANTIZE</title>
                <keywordset>
                    <keyword>QUANTIZE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>QUANTIZE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
QUANTIZE (<replaceable>value</replaceable>, <replaceable>pattern</replaceable>)                                                    
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции NORMALIZE_DECFLOAT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>Значение типа DECFLOAT.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>pattern</replaceable></entry>
                                <entry>
                                    <para>Значение шаблона типа DECFLOAT, по которому будет
                                        отмасштабирован значение первого аргумента.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>DECFLOAT.</para>
            </formalpara>
            <para>Функция QUANTIZE возвращает значение первого аргумента масштабированным с
                использованием второго значения в качестве шаблона. Другими словами функция QUANTIZE
                возвращает значение DECFLOAT, равное по значению (за исключением любого округления)
                и знаку <replaceable>value</replaceable>, а также экспоненте, равной по значению
                экспоненте <replaceable>pattern</replaceable>. Функцию QUANTIZE можно использовать
                для реализации округления с точностью до нужного знака, например, округление до
                ближайшего цента с использованием установленного режима округления DECFLOAT.</para>
            <note>
                <para>Для значения шаблона не никаких ограничений, тем не менее при использовании
                    SNaN функция выдаст исключение, при использовании NULL результатом будет NULL и
                    т.д.</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции QUANTIZE</title>
                        <para><programlisting language="sql">
select v, pic, quantize(v, pic) from examples;
                </programlisting></para>
                        <para>
                            <screen>
V                       PIC                   QUANTIZE
======================= ===================== ==================
                   3.16                 0.001              3.160
                   3.16                 0.01               3.16
                   3.16                 0.1                3.2
                   3.16                 1                  3
                   3.16                 1E+1               0E+1
                   -0.1                 1                 -0
                      0                 1E+5               0E+5
                    316                 0.1              316.0
                    316                 1                316
                    316                 1E+1             3.2E+2
                    316                 1E+2               3E+2                                    
                                </screen>
                        </para>
                    </example>
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-decfloat-totalorder">
            <info>
                <title>TOTALORDER</title>
                <keywordset>
                    <keyword>TOTALORDER</keyword>
                </keywordset>
            </info>
            <indexterm><primary>TOTALORDER</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
TOTALORDER (<replaceable>value1</replaceable>, <replaceable>value2</replaceable>)                                                    
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции TOTALORDER</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value1</replaceable>,
                                        <replaceable>value2</replaceable></entry>
                                <entry>
                                    <para>Значения типа DECFLOAT.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>SMALLINT.</para>
            </formalpara>
            <para>Функция TOTALORDER сравнивает два значения типа DECFLOAT, включая специальные
                значения. Сравнение является точным. </para>
            <para>Функция возвращает:<itemizedlist>
                    <listitem>
                        <para>-1 — если первое значение меньше второго;</para>
                    </listitem>
                    <listitem>
                        <para>0 — если значения равны;</para>
                    </listitem>
                    <listitem>
                        <para>1 — если первое значение больше второго.</para>
                    </listitem>
                </itemizedlist></para>
            <para>Значения DEFLOAT в следующем виде:
                <programlisting>
-nan &lt; -snan &lt; -inf &lt; -0.1 &lt; -0.10 &lt; -0 &lt; 0 &lt; 0.10 &lt; 0.1 &lt; inf &lt; snan &lt; nan                                                
                        </programlisting>
            </para>
        </section>
    </section>

    <section xml:id="langref-functions-func-binary">
        <info>
            <title>Кодирование и декодирование бинарных данных</title>
        </info>

        <section xml:id="langref-functions-func-binary-base64_encode">
            <info>
                <title>BASE64_ENCODE</title>
                <keywordset>
                    <keyword>BASE64_ENCODE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BASE64_ENCODE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BASE64_ENCODE (<replaceable>&lt;binary data&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARCHAR.</para>
            </formalpara>
            <para>Функция BASE64_ENCODE кодирует входные данные в представлении BASE64. Функция
                может работать как с символьной строкой, так и с BLOB.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции BASE64_ENCODE</title>
                        <para><programlisting language="sql">
select base64_encode(public_key) from clients;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-binary-base64_decode"
                    >BASE64_DECODE</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-binary-base64_decode">
            <info>
                <title>BASE64_DECODE</title>
                <keywordset>
                    <keyword>BASE64_DECODE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BASE64_DECODE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BASE64_DECODE (<replaceable>&lt;base64 data&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARCHAR.</para>
            </formalpara>
            <para>Функция BASE64_DECODE декодирует входные данные из представления BASE64. Функция
                может работать как с символьной строкой, так и с BLOB.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-binary-base64_encode"
                    >BASE64_ENCODE</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-binary-hex_encode">
            <info>
                <title>HEX_ENCODE</title>
                <keywordset>
                    <keyword>HEX_ENCODE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>HEX_ENCODE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
HEX_ENCODE (<replaceable>&lt;binary data&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARCHAR.</para>
            </formalpara>
            <para>Функция HEX_ENCODE кодирует двоичные данные в шестнадцатеричное представлении.
                Функция может работать как с символьной строкой, так и с BLOB.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции HEX_ENCODE</title>
                        <para><programlisting language="sql">
select hex_encode(public_key) from clients;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-binary-hex_decode">HEX_DECODE</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-binary-hex_decode">
            <info>
                <title>HEX_DECODE</title>
                <keywordset>
                    <keyword>HEX_DECODE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>HEX_DECODE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
HEX_DECODE (<replaceable>&lt;hex data&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARBINARY.</para>
            </formalpara>
            <para>Функция HEX_DECODE декодирует данные в шестнадцатеричном представлении в двоичные
                данные. Функция может работать как с символьной строкой, так и с BLOB.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-binary-hex_encode">HEX_ENCODE</link>.
                </para>
            </formalpara>
        </section>
    </section>

    <section xml:id="langref-functions-func-hash">
        <info>
            <title>Хеш функции</title>
        </info>

        <section xml:id="langref-functions-func-hash-hash">
            <info>
                <title>HASH</title>
                <keywordset>
                    <keyword>HASH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>HASH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
HASH (<replaceable>str</replaceable> [USING <replaceable>&lt;algorithm&gt;</replaceable>])        
                            
<replaceable>&lt;algorithm&gt;</replaceable> ::= { CRC32 }                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции HASH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция HASH возвращает некриптографический хэш входной строки. Эта функция
                полностью поддерживает текстовые BLOB любой длины и с любым набором символов. </para>

            <para>Если предложение USING не указано, то функция возвращает BIGINT. В этом случае
                используется 64-битный вариант некриптографической хэш-функции PJW (также известной
                как ELF64) <link xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="https://en.wikipedia.org/wiki/PJW_hash_function"
                    >https://en.wikipedia.org/wiki/PJW_hash_function</link>. Эта функция очень
                быстра и может использоваться для общих целей (хеш-таблицы и т. д.), но имеет
                большое количество коллизий. </para>

            <para>Предложение USING позволяет указать алгоритм по которому вычисляет хэш. На данный
                момент поддерживается только один алгоритм CRC32, использующий полиномом 0x04C11DB7.
                В этом случае функция возвращает результат с типом INTEGER.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции HASH</title>
                        <para><programlisting language="sql">
SELECT HASH(x) FROM MyTable;
-- результат типа BIGINT

SELECT HASH(x USING CRC32) FROM MyTable;
-- результат типа INTEGER
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-hash-crypt_hash">
            <info>
                <title>CRYPT_HASH</title>
                <keywordset>
                    <keyword>CRYPT_HASH</keyword>
                </keywordset>
            </info>
            <indexterm><primary>CRYPT_HASH</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
CRYPT_HASH (<replaceable>str</replaceable> USING <replaceable>&lt;algorithm&gt;</replaceable>)        
                            
<replaceable>&lt;algorithm&gt;</replaceable> ::= { MD5 | SHA1 | SHA256 | SHA512 }                            
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции CRYPT_HASH</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>str</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARBINARY.</para>
            </formalpara>

            <para>Функция CRYPT_HASH возвращает криптографический хэш входной строки, используя
                указанный алгоритм. Эта функция полностью поддерживает текстовые BLOB любой длины и
                с любым набором символов. Предложение USING позволяет указать алгоритм по которому
                вычисляет хэш. </para>

            <note>
                <para>Алгоритмы MD5 и SHA1 не рекомендуются для использования из-за известных
                    серьезных проблем, которые предоставляются ТОЛЬКО для обратной
                    совместимости.</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции CRYPT_HASH</title>
                        <para><programlisting language="sql">
SELECT CRYPT_HASH(x USING SHA256) FROM MyTable;
-- результат типа VARBINARY
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
        </section>
    </section>

    <section xml:id="langref-functions-func-crypt">
        <info>
            <title>Криптографические функции</title>
        </info>

        <para>В Firebird 4.0 поддерживается только подмножество симметричных алгоритмов шифрования
            (как блочных так и потоковых), так и RSA.</para>

        <section xml:id="langref-functions-func-crypt-encrypt">
            <info>
                <title>ENCRYPT</title>
                <keywordset>
                    <keyword>ENCRYPT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>ENCRYPT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
ENCRYPT (<replaceable>&lt;data&gt;</replaceable> [USING <replaceable>&lt;algorithm&gt;</replaceable>] [MODE <replaceable>&lt;mode&gt;</replaceable>] KEY <replaceable>&lt;key&gt;</replaceable>
  [IV <replaceable>&lt;iv&gt;</replaceable>] [<replaceable>&lt;endianness&gt;</replaceable>] [CTR_LENGTH <replaceable>&lt;ctr_length&gt;</replaceable>] [COUNTER <replaceable>&lt;counter&gt;</replaceable>])        
                            
<replaceable>&lt;algorithm&gt;</replaceable> ::= { <replaceable>&lt;block_cipher&gt;</replaceable> | <replaceable>&lt;stream_cipher&gt;</replaceable> }

<replaceable>&lt;block_cipher&gt;</replaceable> ::= 
  { AES | ANUBIS | BLOWFISH | KHAZAD | RC5 | RC6 | SAFER+ | TWOFISH | XTEA }  

<replaceable>&lt;stream_cipher&gt;</replaceable> ::= { CHACHA20 | RC4 | SOBER128 }

<replaceable>&lt;mode&gt;</replaceable> ::= { CBC | CFB | CTR | ECB | OFB }

<replaceable>&lt;endianness&gt;</replaceable> ::= { CTR_BIG_ENDIAN | CTR_LITTLE_ENDIAN }
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции ENCRYPT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа или BLOB, которое необходимо
                                        зашифровать.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>algorithm</replaceable></entry>
                                <entry>
                                    <para>Алгоритм шифрования. Поддерживаются как блочные, так и
                                        потоковые алгоритмы.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>mode</replaceable></entry>
                                <entry>
                                    <para>Режим шифрования. Обязателен для блочных алгоритмов
                                        шифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>key</replaceable></entry>
                                <entry>
                                    <para>Ключ шифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>iv</replaceable></entry>
                                <entry>
                                    <para>Вектор инициализации (IV). Должен быть указан для всех
                                        блочных алгоритмов шифрования за исключением ECB и всех
                                        потоковых алгоритмов шифрования за исключением RC4.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>endianness</replaceable></entry>
                                <entry>
                                    <para>Порядок байтов счётчика. Может быть указан только в режиме
                                        CTR. По умолчанию используется CTR_LITTLE_ENDIAN.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>ctr_length</replaceable></entry>
                                <entry>
                                    <para>Длина счётчика в байтах. Может быть указана только в
                                        режиме CTR. По умолчанию равна длине вектора инициализации
                                        IV.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>counter</replaceable></entry>
                                <entry>
                                    <para>Начальное значение счётчика. Может быть указана только для
                                        алгоритма CHACHA20. По умолчанию равно 0.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARBINARY.</para>
            </formalpara>
            <para>Функция ENCRYPT шифрует данные с использованием симметричного шифра. Размеры строк
                передаваемых в эту функцию должны соответствовать требованиям выбранного алгоритма и
                режима.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции ENCRYPT</title>
                        <para><programlisting language="sql">
select encrypt('897897' using sober128 key 'AbcdAbcdAbcdAbcd' iv '01234567') 
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-decrypt">DECRYPT</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-decrypt">
            <info>
                <title>DECRYPT</title>
                <keywordset>
                    <keyword>DECRYPT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>DECRYPT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
DECRYPT (<replaceable>&lt;data&gt;</replaceable> [USING <replaceable>&lt;algorithm&gt;</replaceable>] [MODE <replaceable>&lt;mode&gt;</replaceable>] KEY <replaceable>&lt;key&gt;</replaceable>
  [IV <replaceable>&lt;iv&gt;</replaceable>] [<replaceable>&lt;endianness&gt;</replaceable>] [CTR_LENGTH <replaceable>&lt;ctr_length&gt;</replaceable>] [COUNTER <replaceable>&lt;counter&gt;</replaceable>])        
                            
<replaceable>&lt;algorithm&gt;</replaceable> ::= { <replaceable>&lt;block_cipher&gt;</replaceable> | <replaceable>&lt;stream_cipher&gt;</replaceable> }

<replaceable>&lt;block_cipher&gt;</replaceable> ::= 
  { AES | ANUBIS | BLOWFISH | KHAZAD | RC5 | RC6 | SAFER+ | TWOFISH | XTEA }  

<replaceable>&lt;stream_cipher&gt;</replaceable> ::= { CHACHA20 | RC4 | SOBER128 }

<replaceable>&lt;mode&gt;</replaceable> ::= { CBC | CFB | CTR | ECB | OFB }

<replaceable>&lt;endianness&gt;</replaceable> ::= { CTR_BIG_ENDIAN | CTR_LITTLE_ENDIAN }
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции DECRYPT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Выражение строкового типа или BLOB, которое необходимо
                                        зашифровать.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>algorithm</replaceable></entry>
                                <entry>
                                    <para>Алгоритм шифрования. Поддерживаются как блочные, так и
                                        потоковые алгоритмы.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>mode</replaceable></entry>
                                <entry>
                                    <para>Режим шифрования. Обязателен для блочных алгоритмов
                                        шифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>key</replaceable></entry>
                                <entry>
                                    <para>Ключ шифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>iv</replaceable></entry>
                                <entry>
                                    <para>Вектор инициализации (IV). Должен быть указан для всех
                                        блочных алгоритмов шифрования за исключением ECB и всех
                                        потоковых алгоритмов шифрования за исключением RC4.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>endianness</replaceable></entry>
                                <entry>
                                    <para>Порядок байтов счётчика. Может быть указан только в режиме
                                        CTR. По умолчанию используется CTR_LITTLE_ENDIAN.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>ctr_length</replaceable></entry>
                                <entry>
                                    <para>Длина счётчика в байтах. Может быть указана только в
                                        режиме CTR. По умолчанию равна длине вектора инициализации
                                        IV.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>counter</replaceable></entry>
                                <entry>
                                    <para>Начальное значение счётчика. Может быть указана только для
                                        алгоритма CHACHA20. По умолчанию равно 0.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BLOB или VARBINARY.</para>
            </formalpara>
            <para>Функция DECRYPT дешифрует данные с использованием симметричного шифра. Размеры
                строк передаваемых в эту функцию должны соответствовать требованиям выбранного
                алгоритма и режима.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции DECRYPT</title>
                        <para><programlisting language="sql">
select decrypt(x'0154090759DF' using sober128 key 'AbcdAbcdAbcdAbcd' 
               iv '01234567') 
from rdb$database;

select decrypt(secret_field using aes mode ofb key '0123456701234567' 
               iv init_vector) 
from secure_table;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-encrypt">ENCRYPT</link>. </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_private">
            <info>
                <title>RSA_PRIVATE</title>
                <keywordset>
                    <keyword>RSA_PRIVATE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_PRIVATE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_PRIVATE (<replaceable>&lt;size&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_PRIVATE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>size</replaceable></entry>
                                <entry>
                                    <para>Размер ключа в байтах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARBINARY.</para>
            </formalpara>
            <para>Функция RSA_PRIVATE возвращает RSA закрытый ключ заданной длины (в байтах) в
                PKCS#1 формате как строку VARBINARY.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_PRIVATE</title>
                        <para><programlisting language="sql">
select rdb$set_context('USER_SESSION', 'private_key', rsa_private(256))
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_public">RSA_PUBLIC</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_public">
            <info>
                <title>RSA_PUBLIC</title>
                <keywordset>
                    <keyword>RSA_PUBLIC</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_PUBLIC</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_PUBLIC (<replaceable>&lt;private key&gt;</replaceable>)
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_PUBLIC</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>private key</replaceable></entry>
                                <entry>
                                    <para>RSA закрытый ключ.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARBINARY.</para>
            </formalpara>
            <para>Функция RSA_PUBLIC возвращает RSA открытый ключ для заданного RSA закрытого ключа.
                Оба ключа должны быть в PKCS#1 формате.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_PUBLIC</title>

                        <para>Закрытый ключ должен быть инициализирован ранее см. пример в <link
                                linkend="langref-functions-func-crypt-rsa_private"
                                >RSA_PRIVATE</link>
                        </para>
                        <para><programlisting language="sql">
select rdb$set_context('USER_SESSION', 'public_key',
    rsa_public(rdb$get_context('USER_SESSION', 'private_key'))) 
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_private">RSA_PRIVATE</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_encrypt">
            <info>
                <title>RSA_ENCRYPT</title>
                <keywordset>
                    <keyword>RSA_ENCRYPT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_ENCRYPT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_ENCRYPT (<replaceable>&lt;data&gt;</replaceable> KEY <replaceable>&lt;public_key&gt;</replaceable> [LPARAM <replaceable>&lt;tag&gt;</replaceable>] [HASH <replaceable>&lt;hash&gt;</replaceable>])
                            
<replaceable>&lt;hash&gt;</replaceable> ::= { MD5 | SHA1 | SHA256 | SHA512 }                            
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_ENCRYPT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Данные (строка или BLOB) для шифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>public_key</replaceable></entry>
                                <entry>
                                    <para>Открытый RSA ключ, который возвращает функция
                                        RSA_UBLIC.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>tag</replaceable></entry>
                                <entry>
                                    <para>Дополнительный системный тег, который можно применять для
                                        определения того, какая система закодировала сообщение.
                                        Значением по умолчанию является NULL.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>hash</replaceable></entry>
                                <entry>
                                    <para>Алгоритм хеширования. По умолчанию SHA256.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARBINARY.</para>
            </formalpara>
            <para>Заполняет данные, используя заполнение OAEP, и шифрует их, используя открытый ключ
                RSA. Обычно используется для шифрования коротких симметричных ключей, которые затем
                используются в блочных шифрах для шифрования сообщения.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_ENCRYPT</title>

                        <para>Открытый ключ должен быть инициализирован ранее см. пример в <link
                                linkend="langref-functions-func-crypt-rsa_public">RSA_PUBLIC</link>
                        </para>
                        <para><programlisting language="sql">
select rdb$set_context('USER_SESSION', 'msg', 
    rsa_encrypt('Some message' key rdb$get_context('USER_SESSION', 'public_key'))) 
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_public">RSA_PUBLIC</link>, <link
                        linkend="langref-functions-func-crypt-rsa_decrypt">RSA_DECRYPT</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_decrypt">
            <info>
                <title>RSA_DECRYPT</title>
                <keywordset>
                    <keyword>RSA_DECRYPT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_DECRYPT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_DECRYPT (<replaceable>&lt;data&gt;</replaceable> KEY <replaceable>&lt;private_key&gt;</replaceable> [LPARAM <replaceable>&lt;tag&gt;</replaceable>] [HASH <replaceable>&lt;hash&gt;</replaceable>])
                            
<replaceable>&lt;hash&gt;</replaceable> ::= { MD5 | SHA1 | SHA256 | SHA512 }                            
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_DECRYPT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Данные (строка или BLOB) для дешифрования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>private_key</replaceable></entry>
                                <entry>
                                    <para>Закрытый RSA ключ, который возвращает функция
                                        RSA_PRIVATE.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>tag</replaceable></entry>
                                <entry>
                                    <para>Дополнительный системный тег. Должно быть тем же самым
                                        значением, которое передавалось RSA_ENCRYPT. Если оно не
                                        совпадает с тем, который использовался во время кодирования,
                                        эта функция не расшифровывает пакет. Значением по умолчанию
                                        является NULL.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>hash</replaceable></entry>
                                <entry>
                                    <para>Алгоритм хеширования. По умолчанию SHA256.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARCHAR.</para>
            </formalpara>
            <para>Расшифровывает с использованием закрытого ключа RSA, и удаляет OAEP дополненные
                данные.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_DECRYPT</title>

                        <para>Закрытый ключ должен быть инициализирован ранее см. пример в <link
                                linkend="langref-functions-func-crypt-rsa_private"
                                >RSA_PRIVATE</link>. Данные для расшифровки сипользуются из примера
                            в <link linkend="langref-functions-func-crypt-rsa_encrypt"
                                >RSA_ENCRYPT</link>
                        </para>
                        <para><programlisting language="sql">
select RSA_DECRYPT(rdb$get_context('USER_SESSION', 'msg')
    key rdb$get_context('USER_SESSION', 'private_key'))
from RDB$DATABASE;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_private">RSA_PRIVATE</link>,
                        <link linkend="langref-functions-func-crypt-rsa_encrypt">RSA_ENCRYPT</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_sign">
            <info>
                <title>RSA_SIGN</title>
                <keywordset>
                    <keyword>RSA_SIGN</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_SIGN</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_SIGN (<replaceable>&lt;data&gt;</replaceable> KEY <replaceable>&lt;private_key&gt;</replaceable> [HASH <replaceable>&lt;hash&gt;</replaceable>] [SALT_LENGTH <replaceable>&lt;length&gt;</replaceable>])
                            
<replaceable>&lt;hash&gt;</replaceable> ::= { MD5 | SHA1 | SHA256 | SHA512 }                            
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_SIGN</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Данные (строка или BLOB) для кодирования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>private_key</replaceable></entry>
                                <entry>
                                    <para>Закрытый RSA ключ, который возвращает функция
                                        RSA_PRIVATE.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>hash</replaceable></entry>
                                <entry>
                                    <para>Алгоритм хеширования. По умолчанию SHA256.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>length</replaceable></entry>
                                <entry>
                                    <para>Указывает на длину желаемой соли и, как правило, должен
                                        быть небольшим. Хорошее значение от 8 до 16.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>VARBINARY.</para>
            </formalpara>
            <para>Выполняет PSS-кодирование дайджеста сообщения для подписи и подписывает его с
                использованием закрытого ключа RSA. Возвращает подпись сообщения.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_SIGN</title>

                        <para>Закрытый ключ должен быть инициализирован ранее см. пример в <link
                                linkend="langref-functions-func-crypt-rsa_private"
                                >RSA_PRIVATE</link>. </para>
                        <para><programlisting language="sql">
select rdb$set_context('USER_SESSION', 'msg', 
    rsa_sign(crypt_hash('Test message' using sha256)
    key rdb$get_context('USER_SESSION', 'private_key'))) 
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_private">RSA_PRIVATE</link>.
                </para>
            </formalpara>
        </section>

        <section xml:id="langref-functions-func-crypt-rsa_verify">
            <info>
                <title>RSA_VERIFY</title>
                <keywordset>
                    <keyword>RSA_VERIFY</keyword>
                </keywordset>
            </info>
            <indexterm><primary>RSA_VERIFY</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
RSA_VERIFY (<replaceable>&lt;data&gt;</replaceable> SIGNATURE <replaceable>&lt;signature&gt;</replaceable> KEY <replaceable>&lt;public_key&gt;</replaceable> [HASH <replaceable>&lt;hash&gt;</replaceable>] 
  [SALT_LENGTH <replaceable>&lt;length&gt;</replaceable>])
                            
<replaceable>&lt;hash&gt;</replaceable> ::= { MD5 | SHA1 | SHA256 | SHA512 }                            
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции RSA_VERIFY</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>data</replaceable></entry>
                                <entry>
                                    <para>Данные (строка или BLOB) для кодирования.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>signature</replaceable></entry>
                                <entry>
                                    <para>Подпись. Должно быть значением возвращаемым функцией
                                        RSA_SIGN.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>public_key</replaceable></entry>
                                <entry>
                                    <para>Открытый RSA ключ, который возвращает функция
                                        RSA_PUBLIC.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>hash</replaceable></entry>
                                <entry>
                                    <para>Алгоритм хеширования. По умолчанию SHA256.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>length</replaceable></entry>
                                <entry>
                                    <para>Указывает на длину желаемой соли и, как правило, должен
                                        быть небольшим. Хорошее значение от 8 до 16.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BOOLEAN.</para>
            </formalpara>
            <para>Выполняет PSS-кодирование дайджеста сообщения для подписи и проверяет его цифровую
                подпись, используя открытый ключ RSA. Возвращает результат проверки подписи.</para>
            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции RSA_SIGN</title>

                        <para>Открытый ключ должен быть инициализирован ранее см. пример в <link
                                linkend="langref-functions-func-crypt-rsa_public">RSA_PUBLIC</link>
                            Цифровая подпись получена ранее с помощью функции RSA_SIGN. </para>
                        <para><programlisting language="sql">
select rsa_verify(crypt_hash('Test message' using sha256) 
    signature rdb$get_context('USER_SESSION', 'msg')
    key rdb$get_context('USER_SESSION', 'public_key')) 
from rdb$database;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-crypt-rsa_sign">RSA_SIGN</link>, <link
                        linkend="langref-functions-func-crypt-rsa_public">RSA_PUBLIC</link>. </para>
            </formalpara>
        </section>

    </section>

    <section xml:id="langref-functions-func-cast">
        <info>
            <title>Функции преобразования типов</title>
        </info>
        <section xml:id="langref-functions-func-cast-cast">
            <info>
                <title>CAST</title>
                <keywordset>
                    <keyword>CAST</keyword>
                </keywordset>
            </info>
            <indexterm><primary>CAST</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
CAST(<replaceable>value</replaceable> | NULL AS <replaceable>&lt;type&gt;</replaceable>)
                            
<replaceable>&lt;type&gt;</replaceable> ::= 
    <replaceable>&lt;datatype&gt;</replaceable>
  | [TYPE OF] <replaceable>domain</replaceable>
  | TYPE OF COLUMN <replaceable>relname</replaceable>.<replaceable>colname</replaceable>

<replaceable>&lt;datatype&gt;</replaceable> ::= 
    <replaceable>&lt;scalar_datatype&gt;</replaceable> | <replaceable>&lt;blob_datatype&gt;</replaceable> | <replaceable>&lt;array_datatype&gt;</replaceable>                    
                    
<replaceable>&lt;scalar_datatype&gt;</replaceable> ::=  <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="langref-datatypes-declare-scalar">См. Синтаксис скалярных типов данных</link>
                    
<replaceable>&lt;blob_datatype&gt;</replaceable> ::= <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="langref-datatypes-declare-blob">См. Синтаксис типа данных BLOB</link>          
                    
<replaceable>&lt;array_datatype&gt;</replaceable> ::= <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="langref-datatypes-declare-array">См. Синтаксис массивов</link>    
  
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции CAST</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>value</replaceable></entry>
                                <entry>
                                    <para>SQL выражение.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>datatype</replaceable></entry>
                                <entry>
                                    <para>Тип данных SQL.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>domain</replaceable></entry>
                                <entry>
                                    <para>Домен.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>relname</replaceable></entry>
                                <entry>
                                    <para>Имя таблицы или представления. </para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>colname</replaceable></entry>
                                <entry>
                                    <para>Имя столбца таблицы или представления. </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para><replaceable>&lt;type&gt;</replaceable>.</para>
            </formalpara>

            <para>Функция CAST служит для явного преобразования данных из одного типа данных в
                другой тип данных или домен. Если это невозможно будет выдана ошибка.</para>
            <para>
                <table>
                    <title>Допустимые преобразования для функции CAST</title>

                    <tgroup cols="2">
                        <thead>
                            <row>
                                <entry align="center">Из типа</entry>
                                <entry align="center">В тип</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>Числовые типы</member>
                                    </simplelist>
                                </entry>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>Числовые типы</member>
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                    </simplelist>
                                </entry>
                            </row>
                            <row>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                    </simplelist>
                                </entry>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                        <member>BOOLEAN</member>
                                        <member>Числовые типы</member>
                                        <member>DATE</member>
                                        <member>TIME</member>
                                        <member>TIMESTAMP</member>
                                    </simplelist>
                                </entry>
                            </row>
                            <row>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>DATE</member>
                                        <member>TIME</member>
                                    </simplelist>
                                </entry>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                        <member>TIMESTAMP</member>
                                    </simplelist>
                                </entry>
                            </row>
                            <row>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>TIMESTAMP</member>
                                    </simplelist>
                                </entry>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                        <member>TIME</member>
                                        <member>DATE</member>
                                    </simplelist>
                                </entry>
                            </row>
                            <row>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>BOOLEAN</member>
                                    </simplelist>
                                </entry>
                                <entry align="left">
                                    <simplelist type="vert" columns="1">
                                        <member>[VAR]CHAR</member>
                                        <member>BLOB</member>
                                    </simplelist>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <para>Имейте ввиду, что иногда информация может быть потерянна, например, когда вы
                преобразуете тип TIMESTAMP к DATE. Кроме того, тот факт, что типы совместимы для
                функции CAST, ещё не гарантирует, что преобразование будет успешным. "CAST
                (123456789 AS SMALLINT)" безусловно приведёт к ошибке, так же как и "CAST('Judgement
                Day' as DATE)".</para>



            <para>Вы можете применить преобразование типа к параметрам оператора:
                <programlisting language="sql">
CAST (? AS INTEGER)                        
                    </programlisting>Это
                дает вам контроль над типом полей ввода. </para>
            <simplesect>
                <title>Преобразование к домену или к его базовому типу</title>
                <para>При преобразовании к домену должны быть удовлетворены любые ограничения (NOT
                    NULL и/или CHECK) объявленные для домена, иначе преобразование не будет
                    выполнено. Помните, что проверка CHECK проходит, если его вычисление даёт TRUE
                    или UNKNOWN (NULL). Для следующих операторов:
                    <programlisting language="sql">
CREATE DOMAIN quint AS INT CHECK (VALUE >= 5000)
SELECT CAST (2000 AS quint) FROM rdb$database -- (1)
SELECT CAST (8000 AS quint) FROM rdb$database -- (2)
SELECT CAST (null AS quint) FROM rdb$database -- (3)                       
                    </programlisting>
                    только (1) завершится с ошибкой. </para>
                <para>При использовании модификатора TYPE OF выражение будет преобразовано к
                    базовому типу домена, игнорируя любые ограничения. Для домена quint,
                    объявленного выше, оба преобразования будут эквивалентны и оба будут успешно
                    выполнены:
                    <programlisting language="sql">
SELECT CAST (2000 AS TYPE OF quint) FROM rdb$database
SELECT CAST (2000 AS INT) FROM rdb$database                      
                    </programlisting>
                </para>
                <para>При использовании TYPE OF с (VAR)CHAR типом, его набор символов и порядок
                    сортировки (collate) сохраняются.
                    <programlisting language="sql">
CREATE DOMAIN iso20 VARCHAR(20) CHARACTER SET iso8859_1;
CREATE DOMAIN dunl20 VARCHAR(20) CHARACTER SET iso8859_1 COLLATE du_nl;
CREATE TABLE zinnen (zin VARCHAR(20));
COMMIT;
INSERT INTO zinnen VALUES ('Deze');
INSERT INTO zinnen VALUES ('Die');
INSERT INTO zinnen VALUES ('die');
INSERT INTO zinnen VALUES ('deze');
SELECT CAST(zin AS TYPE OF iso20) FROM zinnen ORDER BY 1;
-- returns Deze -> Die -> deze -> die
SELECT CAST(zin AS TYPE OF dunl20) FROM zinnen ORDER BY 1;
-- returns deze -> Deze -> die -> Die                    
                    </programlisting>
                </para>
                <warning>
                    <para>Если определение домена изменяется, то существующие преобразования к
                        домену или его типу могут стать ошибочными. Если такие преобразования
                        происходят в PSQL модулях, то их ошибки могут быть обнаружены. См. <link
                            linkend="langref-appx01-supp-rdb-validblr">Поле RDB$VALID_BLR</link>.
                    </para>
                </warning>
            </simplesect>
            <simplesect>
                <title>Преобразование к типу столбца</title>
                <para>Разрешено преобразовывать выражение к типу столбца существующей таблицы или
                    представления. При этом будет использован только сам тип, для строковых типов
                    будет использован так же набор символов, но не последовательность сортировки.
                    Ограничения и значения по умолчанию исходного столбца не применяются.
                    <programlisting language="sql">
CREATE TABLE ttt (
  s VARCHAR(40) CHARACTER SET utf8 COLLATE unicode_ci_ai
);
COMMIT;  
SELECT CAST ('Jag har många vänner' AS TYPE OF COLUMN ttt.s) 
FROM rdb$database;
                    </programlisting>
                </para>
                <warning>
                    <para>Если определение столбца изменяется, то существующие преобразования к его
                        типу могут стать ошибочными. Если такие преобразования происходят в PSQL
                        модулях, то их ошибки могут быть обнаружены. См. <link
                            linkend="langref-appx01-supp-rdb-validblr">Поле
                        RDB$VALID_BLR</link>.</para>
                </warning>
                <formalpara>
                    <title>См. также:</title>

                    <para>
                        <link linkend="langref-datatypes-cast-explicit">Явное преобразование типов
                            данных</link>. </para>
                </formalpara>
            </simplesect>
            <simplesect>
                <title>Примеры приведения типов</title>
                <para>
                    <programlisting language="sql">
SELECT CAST ('12' || '-June-' || '1959' AS DATE) FROM rdb$database                        
                    </programlisting>
                </para>
                <para> Заметьте, что в некоторых случаях вы можете не использовать синтаксис
                    преобразования как в примере выше, так как Firebird поймёт из контекста
                    (сравнение с полем типа DATE) как интерпретировать строку:
                    <programlisting language="sql">
UPDATE People SET AgeCat = 'Old'
WHERE BirthDate &lt; '1-Jan-1943'                       
                    </programlisting>
                </para>
                <para>Но это не всегда возможно. Преобразование в примере ниже не может быть
                    опущено, так как система будет пытаться преобразовать строку к числу чтобы
                    вычесть из неё число:
                    <programlisting language="sql">
SELECT CAST('TODAY' AS DATE) - 7 FROM rdb$database                       
                    </programlisting>
                </para>
            </simplesect>
        </section>
    </section>
    <section xml:id="langref-functions-func-bit">
        <info>
            <title>Функции побитовых операций</title>
        </info>

        <section xml:id="langref-functions-func-bit-bin_and">
            <info>
                <title>BIN_AND</title>
                <keywordset>
                    <keyword>BIN_AND</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_AND</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_AND (<replaceable>number</replaceable> [, <replaceable>number</replaceable> ...])
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_AND</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER, BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_AND возвращает результат побитовой операции AND (И) аргументов.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_or">BIN_OR</link>, <link
                        linkend="langref-functions-func-bit-bin_xor">BIN_XOR</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-bit-bin_not">
            <info>
                <title>BIN_NOT</title>
                <keywordset>
                    <keyword>BIN_NOT</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_NOT</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_NOT (<replaceable>number</replaceable>)
                        </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_NOT</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER, BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_NOT возвращает результат побитовой операции NOT над аргументом.</para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_or">BIN_OR</link>, <link
                        linkend="langref-functions-func-bit-bin_and">BIN_AND</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-bit-bin_or">
            <info>
                <title>BIN_OR</title>
                <keywordset>
                    <keyword>BIN_OR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_OR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_OR (<replaceable>number</replaceable> [, <replaceable>number</replaceable> ...])
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_OR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER, BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_OR возвращает результат побитовой операции OR (ИЛИ) аргументов. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_and">BIN_AND</link>, <link
                        linkend="langref-functions-func-bit-bin_xor">BIN_XOR</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-bit-bin_shl">
            <info>
                <title>BIN_SHL</title>
                <keywordset>
                    <keyword>BIN_SHL</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_SHL</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_SHL (<replaceable>number</replaceable>, <replaceable>shift</replaceable>)
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_SHL</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>shift</replaceable></entry>
                                <entry>
                                    <para>Количество бит, на которое смещается значение
                                            <replaceable>number</replaceable>. </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_SHL возвращает первый параметр, побитно смещённый влево на значение
                второго параметра. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_shr">BIN_SHR</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-bit-bin_shr">
            <info>
                <title>BIN_SHR</title>
                <keywordset>
                    <keyword>BIN_SHR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_SHR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_SHR (<replaceable>number</replaceable>, <replaceable>shift</replaceable>)
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_SHR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>shift</replaceable></entry>
                                <entry>
                                    <para>Количество бит на которое смещается значение number.
                                    </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_SHR возвращает первый параметр, побитно смещённый вправо на значение
                второго параметра. </para>
            <note>
                <para>Выполняемая операция является арифметическим сдвигом вправо (SAR), а это
                    означает, что знак первого операнда всегда сохраняется.</para>
            </note>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_shl">BIN_SHL</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-bit-bin_xor">
            <info>
                <title>BIN_XOR</title>
                <keywordset>
                    <keyword>BIN_XOR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>BIN_XOR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
BIN_XOR (<replaceable>number</replaceable> [, <replaceable>number</replaceable> ...])
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции BIN_XOR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>number</replaceable></entry>
                                <entry>
                                    <para>Целое число.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>INTEGER, BIGINT или INT128.</para>
            </formalpara>

            <para>Функция BIN_XOR возвращает результат побитовой операции XOR аргументов. </para>
            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-bit-bin_and">BIN_AND</link>, <link
                        linkend="langref-functions-func-bit-bin_or">BIN_OR</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-uuid">
        <info>
            <title>Функции для работы с UUID</title>
        </info>
        <para/>
        <section xml:id="langref-functions-func-uuid-char_to_uuid">
            <info>
                <title>CHAR_TO_UUID</title>
                <keywordset>
                    <keyword>CHAR_TO_UUID</keyword>
                </keywordset>
            </info>
            <indexterm><primary>CHAR_TO_UUID</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
CHAR_TO_UUID (<replaceable>ascii_uuid</replaceable>) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции CHAR_TO_UUID</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>ascii_uuid</replaceable></entry>
                                <entry>
                                    <para>36-символьное представление UUID. '-' (дефис) в положениях
                                        9, 14, 19 и 24; допустимые шестнадцатеричные цифры в любых
                                        других позициях.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>CHAR(16) CHARACTER SET OCTETS.</para>
            </formalpara>

            <para>Функция CHAR_TO_UUID преобразует читабельную 36-ти символьную символику UUID к
                соответствующему 16-ти байтовому значению UUID. </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции CHAR_TO_UUID</title>
                        <para><programlisting language="sql">
SELECT CHAR_TO_UUID('A0bF4E45-3029-2a44-D493-4998c9b439A3') FROM rdb$database
-- returns A0BF4E4530292A44D4934998C9B439A3 (16-byte string)

SELECT CHAR_TO_UUID('A0bF4E45-3029-2A44-X493-4998c9b439A3') FROM rdb$database
-- error: -Human readable UUID argument for CHAR_TO_UUID must
-- have hex digit at position 20 instead of "X (ASCII 88)"
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-uuid-gen_uuid">GEN_UUID</link>, <link
                        linkend="langref-functions-func-uuid-uuid_to_char">UUID_TO_CHAR</link>.
                </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-uuid-gen_uuid">
            <info>
                <title>GEN_UUID</title>
                <keywordset>
                    <keyword>GEN_UUID</keyword>
                </keywordset>
            </info>
            <indexterm><primary>GEN_UUID</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
GEN_UUID() 
                        </programlisting>
                </para>
            </formalpara>
            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>CHAR(16) CHARACTER SET OCTETS.</para>
            </formalpara>

            <para>Функция возвращает универсальный уникальный идентификатор ID в виде 16-байтной
                строки символов, отвечающий требованиям стандарта RFC-4122. Функция возвращает
                строку UUID 4-ой версии, где несколько битов зарезервированы, а остальные являются
                случайными.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции GEN_UUID</title>
                        <para>
                            <programlisting language="sql">
SELECT GEN_UUID() AS GUID FROM RDB$DATABASE
	
/* результат будет возвращён в виде
	XXXXXXXX-XXXX-4XXX-YXXX-XXXXXXXXXXXX 
	где 4 это номер версии, а Y может принимать значение 8, 9, A или B.
*/                      </programlisting>
                            <screen>
852C5DD9-3453-430B-B697-D0A46B4D2531                            
                        </screen>
                        </para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-uuid-char_to_uuid">CHAR_TO_UUID</link>,
                        <link linkend="langref-functions-func-uuid-uuid_to_char"
                    >UUID_TO_CHAR</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-uuid-uuid_to_char">
            <info>
                <title>UUID_TO_CHAR</title>
                <keywordset>
                    <keyword>UUID_TO_CHAR</keyword>
                </keywordset>
            </info>
            <indexterm><primary>UUID_TO_CHAR</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
UUID_TO_CHAR (<replaceable>uuid</replaceable>) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции UUID_TO_CHAR</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>uuid</replaceable></entry>
                                <entry>
                                    <para>16-байтный UUID.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>CHAR(36).</para>
            </formalpara>

            <para>Функция UUID_TO_CHAR конвертирует 16-ти байтный UUID в его 36-ти знаковое ASCII
                человекочитаемое представление. Тип возвращаемого значения CHAR(36).</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции UUID_TO_CHAR</title>
                        <para><programlisting language="sql">
SELECT UUID_TO_CHAR(GEN_UUID()) FROM RDB$DATABASE;

SELECT UUID_TO_CHAR(x'876C45F4569B320DBCB4735AC3509E5F') FROM RDB$DATABASE;
-- returns '876C45F4-569B-320D-BCB4-735AC3509E5F'

SELECT UUID_TO_CHAR(GEN_UUID()) FROM RDB$DATABASE;
-- returns e.g. '680D946B-45FF-DB4E-B103-BB5711529B86'

SELECT UUID_TO_CHAR('Firebird swings!') FROM RDB$DATABASE;
-- returns '46697265-6269-7264-2073-77696E677321'
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-uuid-gen_uuid">GEN_UUID</link>, <link
                        linkend="langref-functions-func-uuid-char_to_uuid">CHAR_TO_UUID</link>.
                </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-gen">
        <info>
            <title>Функции для работы с генераторами (последовательностями)</title>
        </info>

        <section xml:id="langref-functions-func-gen-gen_id">
            <info>
                <title>GEN_ID</title>
                <keywordset>
                    <keyword>GEN_ID</keyword>
                </keywordset>
            </info>
            <indexterm><primary>GEN_ID</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL, ESQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
GEN_ID(<replaceable>gen_name</replaceable>, <replaceable>step</replaceable>) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции GEN_ID</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>gen_name</replaceable></entry>
                                <entry>
                                    <para>Имя генератора (последовательности).</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>step</replaceable></entry>
                                <entry>
                                    <para>Шаг приращения.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>BIGINT.</para>
            </formalpara>

            <para>Функция GEN_ID увеличивает значение генератора или последовательности и возвращает
                новое значение.</para>
            <note>
                <para>Если значение параметра <replaceable>step</replaceable> меньше нуля,
                    произойдёт уменьшение значения генератора. Внимание! Следует быть крайне
                    аккуратным при таких манипуляциях в базе данных, они могут привести к потере
                    целостности данных. Если <replaceable>step</replaceable> равен 0, функция не
                    будет ничего делать со значением генератора и вернёт его текущее значение.
                </para>
            </note>
            <para>Начиная с Firebird 2.0 для получения следующего значение последовательности
                (генератора) стало доступно использование оператора NEXT VALUE FOR.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции GEN_ID</title>
                        <para><programlisting language="sql">
NEW.ID = GEN_ID (GEN_TABLE_ID, 1);
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-commons-nxtvlufor">NEXT VALUE FOR</link>, <link
                        linkend="langref-ddl-sequence">SEQUENCE (GENERATOR)</link>, <link
                        linkend="langref-ddl-sequence-alter">ALTER SEQUENCE</link>, <link
                        linkend="langref-ddl-sequence-setgen">SET GENERATOR</link>. </para>
            </formalpara>
        </section>
    </section>
    <section xml:id="langref-functions-func-case">
        <info>
            <title>Условные функции</title>
        </info>
        <para/>

        <section xml:id="langref-functions-func-case-coalesce">
            <info>
                <title>COALESCE</title>
                <keywordset>
                    <keyword>COALESCE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>COALESCE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
COALESCE(<replaceable>expr1</replaceable>, <replaceable>expr2</replaceable> [, <replaceable>exprN</replaceable> ...]) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции COALESCE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>expr1</replaceable>,
                                        <replaceable>expr2</replaceable> ...
                                        <replaceable>exprN</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и первый аргумент функции <replaceable>expr1</replaceable>, если
                    все выражения имеют одинаковый тип, в противном случае происходит преобразование
                    в тип с наибольшей вместимостью.</para>
            </formalpara>

            <para>Функция COALESCE принимает два или более аргумента возвращает значение первого NOT
                NULL аргумента. Если все аргументы имеют значение NULL, то и результат будет
                NULL.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции COALESCE</title>
                        <para><programlisting language="sql">
SELECT 
  COALESCE(PE.NICKNAME, PE.FIRSTNAME, 'Mr./Mrs.') ||
  ' ' || PE.LASTNAME AS FULLNAME
FROM PERSONS PE
                </programlisting>
                            В данном примере предпринимается попытка использовать все имеющиеся
                            данные для составления полного имени. Выбирается поле NICKNAME из
                            таблицы PERSONS. Если оно имеет значение NULL, то берётся значение из
                            поля FIRSTNAME. Если и оно имеет значение NULL, то используется строка
                            'Mr./Mrs.'. Затем к значению функции COALESCE фамилия (поле LASTNAME).
                            Обратите внимание, что эта схема нормально работает, только если
                            выбираемые поля имеют значение NULL или не пустое значение: если одно из
                            них является пустой строкой, то именно оно и возвратится в качестве
                            значения функции COALESCE. </para>
                    </example>
                    <example>
                        <title>Использование функции COALESCE с агрегатными функциями</title>
                        <para><programlisting language="sql">
-- в случае получения при суммировании NULL, вернёт 0.                        
SELECT coalesce (sum (q), 0) 
FROM bills 
WHERE ...
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-commons-conditional-case">CASE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-case-decode">
            <info>
                <title>DECODE</title>
                <keywordset>
                    <keyword>DECODE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>DECODE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
DECODE(<replaceable>testexpr</replaceable>, 
       <replaceable>expr1</replaceable>, <replaceable>result1</replaceable>
       [, <replaceable>expr2</replaceable>, <replaceable>result2</replaceable> ...]
       [, <replaceable>defaultresult</replaceable>]) 
                </programlisting>
                    эквивалентная конструкция CASE
                    <programlisting>
CASE <replaceable>testexpr</replaceable> 
  WHEN <replaceable>expr1</replaceable> THEN <replaceable>result1</replaceable>
  [WHEN <replaceable>expr2</replaceable> THEN <replaceable>result2</replaceable> ...]
  [ELSE <replaceable>defaultresult</replaceable>]
END                            
                </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции DECODE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>testexpr</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа, которое сравнивается с
                                        выражениями <replaceable>expr1</replaceable>,
                                            <replaceable>expr2</replaceable> ...
                                            <replaceable>exprN</replaceable></para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>expr1</replaceable>,
                                        <replaceable>expr2</replaceable> ...
                                        <replaceable>exprN</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа, с которыми сравнивают
                                        с выражением <replaceable>testexpr</replaceable>.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>result1</replaceable>,
                                        <replaceable>result2</replaceable> ...
                                        <replaceable>resultN</replaceable></entry>
                                <entry>
                                    <para>Возвращаемые выражения любого типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>defaultresult</replaceable></entry>
                                <entry>
                                    <para>Выражения, возвращаемое если ни одно из условий не было
                                        выполнено.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и первый результат <replaceable>result1</replaceable>, если все
                    выражения <replaceable>result</replaceable> имеют одинаковый тип, в противном
                    случае происходит преобразование в тип с наибольшей вместимостью.</para>
            </formalpara>

            <para>Данная функция эквивалентна конструкции <link
                    linkend="langref-commons-conditional-case-simple">Простой CASE</link>, в которой
                заданное выражение сравнивается с другими выражениями до нахождения совпадения.
                Результатом является значение, указанное после выражения, с которым найдено
                совпадение. Если совпадений не найдено, то возвращается значение по умолчанию (если
                оно, конечно, задано – в противном случае возвращается NULL).</para>
            <caution>
                <para>Совпадение эквивалентно оператору &quot;=&quot;, т.е. если
                        <replaceable>testexpr</replaceable> имеет значение NULL, то он не
                    соответствует ни одному из <replaceable>expr</replaceable>, даже тем, которые
                    имеют значение NULL. </para>
            </caution>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции DECODE</title>
                        <para><programlisting language="sql">
SELECT 
  name, 
  age,
  decode (upper(sex),
          'M', 'М',
          'F', 'Ж',
          'не указано') AS sexname,
  UID 
FROM people
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-commons-conditional-case">CASE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-case-iif">
            <info>
                <title>IIF</title>
                <keywordset>
                    <keyword>IIF</keyword>
                </keywordset>
            </info>
            <indexterm><primary>IIF</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
IIF(<replaceable>&lt;condition&gt;</replaceable>, <replaceable>resultT</replaceable>, <replaceable>resultF</replaceable>) 
                </programlisting>
                </para>
            </formalpara>
            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции IIF</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>condition</replaceable></entry>
                                <entry>
                                    <para>Выражение логического типа.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>resultT</replaceable></entry>
                                <entry>
                                    <para>Возвращаемое значение, если
                                            <replaceable>condition</replaceable> является
                                        истинным.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>resultF</replaceable></entry>
                                <entry>
                                    <para>Возвращаемое значение, если
                                            <replaceable>condition</replaceable> является
                                        ложным.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и аргумент функции <replaceable>resultT</replaceable>, если
                    выражения <replaceable>resultT</replaceable> и
                        <replaceable>resultF</replaceable> имеют одинаковый тип, в противном случае
                    происходит преобразование в тип с наибольшей вместимостью.</para>
            </formalpara>

            <para>Функция IIF имеет три аргумента. Если первый аргумент является истиной, то
                результатом будет второй параметр, в противном случае результатом будет третий
                параметр.</para>
            <para>По сути, функция IIF это короткая запись оператора CASE
                <programlisting>
CASE WHEN <replaceable>&lt;condition&gt;</replaceable> THEN <replaceable>resultT</replaceable> ELSE <replaceable>resultF</replaceable> END                        
                    </programlisting>
                Оператор IIF также можно сравнить в тройным оператором "?:" в C-подобных языках. </para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции IIF</title>
                        <para><programlisting language="sql">
SELECT IIF(SEX = 'M', 'Sir', 'Madam') FROM CUSTOMERS
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-commons-conditional-case">CASE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-case-maxvalue">
            <info>
                <title>MAXVALUE</title>
                <keywordset>
                    <keyword>MAXVALUE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>MAXVALUE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
MAXVALUE(<replaceable>expr1</replaceable> [, <replaceable>exprN</replaceable> ...]) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции MAXVALUE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>expr1</replaceable> ...
                                        <replaceable>exprN</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и первый аргумент функции <replaceable>expr1</replaceable>.</para>
            </formalpara>

            <para>Возвращает максимальное значение из входного списка чисел, строк или параметров с
                типом DATE/TIME/TIMESTAMP.</para>
            <note>
                <para>Если один или более входных параметров имеют значение NULL, то результатом
                    функции MAXVALUE тоже будет NULL в отличие от агрегатной функции MAX.</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции MAXVALUE</title>
                        <para><programlisting language="sql">
SELECT MAXVALUE(PRICE_1, PRICE_2) AS PRICE
FROM PRICELIST
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-case-minvalue">MINVALUE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-case-minvalue">
            <info>
                <title>MINVALUE</title>
                <keywordset>
                    <keyword>MINVALUE</keyword>
                </keywordset>
            </info>
            <indexterm><primary>MINVALUE</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>
            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
MINVALUE(<replaceable>expr1</replaceable> [, <replaceable>exprN</replaceable> ...]) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции MINVALUE</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>expr1</replaceable> ...
                                        <replaceable>exprN</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и первый аргумент функции <replaceable>expr1</replaceable>.</para>
            </formalpara>

            <para>Возвращает минимальное значение из входного списка чисел, строк или параметров с
                типом DATE/TIME/TIMESTAMP.</para>
            <note>
                <para>Если один или более входных параметров имеют значение NULL, то результатом
                    функции MINVALUE тоже будет NULL в отличие от агрегатной функции MIN.</para>
            </note>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции MINVALUE</title>
                        <para><programlisting language="sql">
SELECT MINVALUE(PRICE_1, PRICE_2) AS PRICE
FROM PRICELIST
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-case-maxvalue">MAXVALUE</link>. </para>
            </formalpara>
        </section>
        <section xml:id="langref-functions-func-case-nullif">
            <info>
                <title>NULLIF</title>
                <keywordset>
                    <keyword>NULLIF</keyword>
                </keywordset>
            </info>
            <indexterm><primary>NULLIF</primary></indexterm>
            <formalpara>
                <title>Доступно в:</title>

                <para>DSQL, PSQL.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting>
NULLIF(<replaceable>expr1</replaceable>, <replaceable>expr2</replaceable>) 
                        </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <?dbfo keep-together='auto'?>
                    <title>Параметры функции NULLIF</title>
                    <tgroup cols="2">
                        <colspec colname="c1" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="c2" colnum="2" colwidth="2.8*" align="justify"/>
                        <thead>
                            <row>
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>expr1</replaceable>,
                                        <replaceable>expr2</replaceable></entry>
                                <entry>
                                    <para>Выражения любого совместимого типа.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <formalpara>
                <title>Тип возвращаемого результата:</title>
                <para>тот же что и первый аргумент функции <replaceable>expr1</replaceable>.</para>
            </formalpara>

            <para>Функция возвращает значение первого аргумента, если он неравен второму. В случае
                равенства аргументов возвращается NULL.</para>

            <formalpara>
                <title>Примеры:</title>
                <para>
                    <example>
                        <title>Использование функции NULLIF</title>
                        <para><programlisting language="sql">
/* запрос вернёт среднее значение поля weight по таблице, 
   за исключением строк, где он не указан (равен -1). 
   Если бы не было этой функции простой оператор avg(weight) 
   вернул бы некорректное значение */                        
SELECT AVG(NULLIF(weight, -1)) FROM cargo;
                </programlisting></para>
                    </example>
                </para>
            </formalpara>

            <formalpara>
                <title>См. также:</title>

                <para>
                    <link linkend="langref-functions-func-case-coalesce">COALESCE</link>, <link
                        linkend="langref-commons-conditional-case">CASE</link>. </para>
            </formalpara>
        </section>
    </section>

</chapter>
